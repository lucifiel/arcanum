{"version":3,"file":"minions-ui.bundle.js","mappings":"iJAGIA,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,iEAAkE,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,+CAA+C,MAAQ,GAAG,SAAW,yBAAyB,eAAiB,CAAC,8+CAA6+C,WAAa,MAEhvD,W,iECJIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,+5BAAg6B,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,2CAA2C,MAAQ,GAAG,SAAW,+TAA+T,eAAiB,CAAC,8qHAAitH,WAAa,MAEplK,W,gCCPA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACTC,EAAKJ,EAAIK,MAAMD,IAAMF,EACzB,OAAQD,KAAKK,UAAYN,EAAIO,MAAQN,KAAKO,MAAMC,QAAUR,KAAKK,SAC3DF,EAAG,MAAO,CAAEM,YAAa,cAAgB,CACvCN,EAAG,QAAS,CAAEO,MAAO,CAAEC,IAAKZ,EAAIa,MAAM,YAAe,CAACb,EAAIc,GAAG,UAC7Dd,EAAIc,GAAG,KACPV,EAAG,QAAS,CACVW,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,UACTC,MAAOlB,EAAImB,SACXC,WAAY,aAGhBT,MAAO,CAAEb,GAAIE,EAAIa,MAAM,UAAWQ,KAAM,QACxCC,SAAU,CAAEJ,MAAOlB,EAAImB,UACvBI,GAAI,CACFC,MAAO,SAASC,GACVA,EAAOC,OAAOC,YAGlB3B,EAAImB,SAAWM,EAAOC,OAAOR,aAKrClB,EAAI4B,MAGV7B,EAAO8B,eAAgB,EC/BvB,MCDgI,EDChI,CAQCC,MAAM,CAAC,QAAS,QAAS,OAAQ,YACjCC,OACC,MAAO,CACNxB,KAAK,GACLyB,MAAM/B,KAAKgC,MAAM,SAGnBC,MAAM,CACL1B,MAAM2B,EAAOC,GAASnC,KAAKkB,SAAWlB,KAAKkB,WAE5CkB,UACCpC,KAAKkB,SAAWlB,KAAKM,MAEtB+B,QAAQ,CACPC,QAAStC,KAAKM,KAAO,KAEtBiC,SAAS,CAERrB,SAAS,CAERsB,MAAQ,OAAOxC,KAAKM,MACpBmC,IAAIC,GAEH1C,KAAKM,KAAOoC,EACZ,IAAIC,EAAI3C,KAAK+B,MAEPW,GAAI1C,KAAK4C,MAAO,QAAS5C,KAAKO,OAEpC,IAAIsC,EAAMH,EAAEI,cAEM,mBAANH,EAEV3C,KAAK4C,MAAO,QAAS5C,KAAKO,MAAMwC,QAChCC,GAAIL,EAAEK,EAAIH,MAGL7C,KAAK4C,MAAO,QAAS5C,KAAKO,MAAMwC,QACtCC,GAAmB,iBAAPA,GACS,iBAAXA,EAAGL,IAAsBK,EAAGL,GAAGG,cAAcG,SAAUJ,U,+HEpClEK,EAAU,GAEdA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,W,IClB9CM,GAAY,E,QAAA,GACd,EACA1D,EJqBoB,IInBpB,EACA,KACA,WACA,MAuBF0D,EAAUN,QAAQO,OAAS,kCAC3B,QAAeD,EAAiB,S,6CCvChC,IAAI1D,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACTC,EAAKJ,EAAIK,MAAMD,IAAMF,EACzB,OAAOE,EACL,MACA,CAAEM,YAAa,WACf,CACEN,EAAG,YAAa,CACdO,MAAO,CAAEH,MAAOP,KAAK0D,QAAQnD,MAAO,YAAa,MACjDoD,MAAO,CACL1C,MAAOlB,EAAI6D,SACXC,SAAU,SAASC,GACjB/D,EAAI6D,SAAWE,GAEjB3C,WAAY,cAGhBpB,EAAIc,GAAG,KACPd,EAAIgE,UACA5D,EAAG,MAAO,CAAEM,YAAa,aAAe,CACtCV,EAAIc,GAAG,oDAETd,EAAI4B,KACR5B,EAAIc,GAAG,KACPV,EAAG,MAAO,CAAEM,YAAa,gBAAkB,CACzCN,EAAG,OAAQ,CACTJ,EAAIc,GACF,kBACEd,EAAIiE,GAAGjE,EAAI2D,QAAQO,MAAQ,MAAQC,KAAKC,MAAMpE,EAAI2D,QAAQU,SAGhErE,EAAIc,GAAG,KACPV,EAAG,OAAQ,CACTJ,EAAIc,GACF,iBACEd,EAAIiE,GACFE,KAAKC,MAAMpE,EAAIsE,OAAOC,MACpB,MACAJ,KAAKC,MAAMpE,EAAIsE,OAAOD,IAAInD,aAKtClB,EAAIc,GAAG,KACPV,EAAG,MAAO,CAAEM,YAAa,aAAe,CACtCN,EACE,QACA,CACEJ,EAAIwE,GAAG,GACPxE,EAAIc,GAAG,KACPd,EAAIyE,GAAGzE,EAAI6D,UAAU,SAASa,GAC5B,OAAOtE,EACL,KACA,CACEuE,IAAKD,EAAE5E,GACPY,YAAa,WACba,GAAI,CACF,cAAe,SAASE,GAEtB,OADAA,EAAOmD,kBACA5E,EAAI6E,SAASpD,EAAQiD,MAIlC,CACEtE,EAAG,KAAM,CACPA,EAAG,QAAS,CACVW,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,UACTC,MAAOwD,EAAE1D,KACTI,WAAY,WAGhBV,YAAa,WACbC,MAAO,CAAEU,KAAM,QACfC,SAAU,CAAEJ,MAAOwD,EAAE1D,MACrBO,GAAI,CACFC,MAAO,SAASC,GACVA,EAAOC,OAAOC,WAGlB3B,EAAI8E,KAAKJ,EAAG,OAAQjD,EAAOC,OAAOR,aAK1ClB,EAAIc,GAAG,KACPV,EAAG,KAAM,CAAEM,YAAa,aAAe,CACrCV,EAAIc,GACFd,EAAIiE,GAAGjE,EAAI+E,MAAML,EAAEM,KACjB,MACAhF,EAAIiE,GAAGjE,EAAI+E,MAAML,EAAEM,GAAGX,SAG5BrE,EAAIc,GAAG,KACN4D,EAAEO,MAEC7E,EAAG,KAAM,CACPsE,EAAEQ,OACE9E,EACE,SACA,CACEO,MAAO,CAAEwE,SAAUnF,EAAIgE,WACvBzC,GAAI,CACF6D,MAAO,SAAS3D,GACd,OAAOzB,EAAIqF,aAAaX,MAI9B,CAAC1E,EAAIc,GAAG,UAEVV,EACE,SACA,CACEO,MAAO,CACLwE,SACEnF,EAAIgE,YAAchE,EAAIsE,OAAOgB,OAAOZ,IAExCnD,GAAI,CACF6D,MAAO,SAAS3D,GACd,OAAOzB,EAAIqF,aAAaX,MAI9B,CAAC1E,EAAIc,GAAG,gBA5BhBV,EAAG,KAAM,CAACA,EAAG,OAAQ,CAACJ,EAAIc,GAAG,YA+BjCd,EAAIc,GAAG,KACN4D,EAAEO,MAqBCjF,EAAI4B,KApBJxB,EACE,KACAJ,EAAIyE,GAAGzE,EAAIuF,OAAOb,IAAI,SAASc,GAC7B,OAAOpF,EACL,SACA,CACEuE,IAAKa,EAAE1F,GACPY,YAAa,MACbC,MAAO,CAAEwE,UAAWK,EAAEC,UACtBlE,GAAI,CACF6D,MAAO,SAAS3D,GACd,OAAOzB,EAAI0F,OAAOF,EAAGd,MAI3B,CAAC1E,EAAIc,GAAGd,EAAIiE,GAAGuB,EAAExE,YAGrB,GAGNhB,EAAIc,GAAG,KACPV,EACE,KACA,CACEA,EACE,UACA,CACEmB,GAAI,CACFoE,QAAS,SAASlE,GAChB,OAAOzB,EAAI4F,QAAQlB,MAIzB,CAAC1E,EAAIc,GAAGd,EAAIiE,GAAG,eAGnB,SAMV,MAIN,IAgBJlE,EAAO8B,eAAgB,E,kCC5LvB,MCN8H,EDM9H,CAECC,MAAM,CAAC,WACPC,KAAI,KACI,CACN8B,SAAS,OAGXgC,OAAO,CAAC,KACRC,WAAW,CACVC,UAAU,KAEXvD,SAAS,CAER8B,SAAW,OAAOrE,KAAK0D,QAAQW,QAE/BN,UAAS,IAAY,2BAIrBgC,QAAO,IAAU,qBAAqB,OAAOhD,QAAOL,GAAGA,EAAEsD,QAAQtD,EAAEwC,YAGpE7C,QAAQ,CAMPiD,OAAOb,GACN,OAAOzE,KAAK+F,QAAQhD,QAAOL,GAAGA,EAAEuD,SAASxB,MAQ1CgB,OAAQS,EAAKzB,GAEZ,aAAayB,GACbzB,EAAEM,GAAGtC,IAAI,IAOV2C,aAAaX,GACZzE,KAAK0D,QAAQyC,UAAW1B,GAAIA,EAAEQ,SAG/BU,QAAQlB,GACPzE,KAAK0D,QAAQ0C,OAAO3B,IAIrBK,MAAMpC,GAEAA,MAAAA,EAAsC,GACpB,iBAANA,EAAkBA,EAAEzB,MAAQyB,GAAI2D,QAAQ,K,+HEvDxDnD,EAAU,GAEdA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,W,IClB9CM,GAAY,E,QAAA,GACd,EACA1D,EJ2KoB,CACpB,WACE,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACTC,EAAKJ,EAAIK,MAAMD,IAAMF,EACzB,OAAOE,EAAG,KAAM,CACdA,EAAG,KAAM,CAACJ,EAAIc,GAAG,cACjBV,EAAG,KAAM,CAAEM,YAAa,aAAe,CAACV,EAAIc,GAAG,UAC/CV,EAAG,KAAM,CAACJ,EAAIc,GAAG,YACjBV,EAAG,KAAM,CAACJ,EAAIc,GAAG,kBIlLrB,EACA,KACA,WACA,MAuBF2C,EAAUN,QAAQO,OAAS,8BAC3B,QAAeD,EAAiB","sources":["webpack://[name]/./src/ui/components/filterbox.vue?f10b","webpack://[name]/./src/ui/sections/minions.vue?40a2","webpack://[name]/./src/ui/components/filterbox.vue?6c40","webpack://[name]/src/ui/components/filterbox.vue","webpack://[name]/./src/ui/components/filterbox.vue?f5b5","webpack://[name]/./src/ui/components/filterbox.vue?4062","webpack://[name]/./src/ui/components/filterbox.vue","webpack://[name]/./src/ui/sections/minions.vue?6c8b","webpack://[name]/src/ui/sections/minions.vue","webpack://[name]/./src/ui/sections/minions.vue?1378","webpack://[name]/./src/ui/sections/minions.vue?f80c","webpack://[name]/./src/ui/sections/minions.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\nlabel[data-v-6d0e0bec] {\\n\\tmargin-right:var(--md-gap);\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/ui/components/filterbox.vue\"],\"names\":[],\"mappings\":\";AAqEA;CACA,0BAAA;AACA\",\"sourcesContent\":[\"<script>\\nexport default {\\n\\n\\t/**\\n\\t * @property {object[]} items - items to filter.\\n\\t * @property {prop} [prop='name'] - target prop of filter test.\\n\\t *\\n\\t * @property {number} [minItems=0] - minimum number of items before box is visible.\\n\\t */\\n\\tprops:['value', 'items', 'prop', 'minItems'],\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\ttext:'',\\n\\t\\t\\tpprop:this.prop||'name'\\n\\t\\t}\\n\\t},\\n\\twatch:{\\n\\t\\titems(newVal,oldVal){ this.findText = this.findText; }\\n\\t},\\n\\tcreated(){\\n\\t\\tthis.findText = this.text;\\n\\t},\\n\\tmethods:{\\n\\t\\tclear(){ this.text = ''; }\\n\\t},\\n\\tcomputed:{\\n\\n\\t\\tfindText:{\\n\\n\\t\\t\\tget() { return this.text; },\\n\\t\\t\\tset(v){\\n\\n\\t\\t\\t\\tthis.text = v;\\n\\t\\t\\t\\tlet p = this.pprop;\\n\\n\\t\\t\\t\\tif ( !v ) this.$emit( 'input', this.items );\\n\\n\\t\\t\\t\\tvar txt = v.toLowerCase();\\n\\n\\t\\t\\t\\tif ( typeof p === 'function') {\\n\\n \\t\\t\\t\\t\\tthis.$emit( 'input', this.items.filter(\\n\\t\\t\\t\\t\\t\\tit=>p(it, txt )\\n\\t\\t\\t\\t\\t));\\n\\n\\t\\t\\t\\t} else this.$emit( 'input', this.items.filter(\\n\\t\\t\\t\\t\\tit=>(typeof it === 'object') &&\\n\\t\\t\\t\\t\\t( (typeof it[p]) === 'string' ) && it[p].toLowerCase().includes( txt )\\n\\t\\t\\t\\t));\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t}\\n\\n}\\n</script>\\n\\n\\n<template>\\n\\t<div class=\\\"filter-box\\\" v-if=\\\"!this.minItems||text||(this.items.length>=this.minItems)\\\">\\n\\t\\t<label :for=\\\"elmId('filter')\\\">Find</label>\\n\\t\\t<input :id=\\\"elmId('filter')\\\" v-model=\\\"findText\\\" type=\\\"text\\\">\\n\\t</div>\\n</template>\\n\\n\\n<style scoped>\\nlabel {\\n\\tmargin-right:var(--md-gap);\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\ndiv.minions .rez[data-v-39072fa4] {\\n\\ttext-transform: capitalize;\\n}\\ndiv.minions .minion-title[data-v-39072fa4] {\\n\\tdisplay:flex;\\n\\tmin-width: 12rem;\\n\\tmax-width: 50%;\\n\\tjustify-content: space-between;\\n}\\ndiv.minions .warn-text[data-v-39072fa4] {\\n\\tmargin-bottom: var( --sm-gap );\\n}\\ndiv.minions[data-v-39072fa4] {\\n\\tpadding-left:1rem;\\n\\tpadding-top: var( --tiny-gap );\\n\\theight:100%;\\n}\\n.char-list[data-v-39072fa4] {\\n\\theight:85%;\\n\\toverflow-y:auto;\\n}\\ntable[data-v-39072fa4] {\\n\\tborder-spacing: var(--sm-gap) 0;\\n\\tborder-collapse: collapse;\\n\\trow-gap: var(--sm-gap);\\n\\tcolumn-gap: var(--md-gap);\\n}\\ntr:first-child th[data-v-39072fa4] {\\n\\tborder-bottom: 1pt solid black;\\n\\tmargin: var(--sm-gap);\\n}\\ntr > th[data-v-39072fa4]:first-of-type {\\n\\ttext-align: left;\\n}\\nth[data-v-39072fa4] {\\n\\tpadding: var(--sm-gap) var(--md-gap);\\n}\\ntd.num-align[data-v-39072fa4] {\\n\\tpadding: var(--md-gap);\\n}\\n\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/ui/sections/minions.vue\"],\"names\":[],\"mappings\":\";AAwHA;CACA,0BAAA;AACA;AAEA;CACA,YAAA;CACA,gBAAA;CACA,cAAA;CACA,8BAAA;AACA;AAEA;CACA,8BAAA;AACA;AACA;CACA,iBAAA;CACA,8BAAA;CACA,WAAA;AACA;AAEA;CACA,UAAA;CACA,eAAA;AACA;AAEA;CACA,+BAAA;CACA,yBAAA;CACA,sBAAA;CACA,yBAAA;AAEA;AAEA;CACA,8BAAA;CACA,qBAAA;AACA;AAEA;CACA,gBAAA;AACA;AAEA;CACA,oCAAA;AACA;AAEA;CACA,sBAAA;AACA\",\"sourcesContent\":[\"<script>\\nimport Game from '../../game';\\n\\nimport ItemsBase from '../itemsBase';\\nimport FilterBox from '../components/filterbox.vue';\\n\\nexport default {\\n\\n\\tprops:['minions'],\\n\\tdata(){\\n\\t\\treturn {\\n\\t\\t\\tfiltered:null\\n\\t\\t};\\n\\t},\\n\\tmixins:[ItemsBase],\\n\\tcomponents:{\\n\\t\\tfilterbox:FilterBox\\n\\t},\\n\\tcomputed:{\\n\\n\\t\\tallies() { return this.minions.allies;},\\n\\n\\t\\tinExplore() { return Game.state.explore.running },\\n\\n\\t\\t/*items(){ return this.minions.filter( v=>v.value>=1 ); },*/\\n\\n\\t\\trezList(){return Game.state.getTagSet('rez').filter(v=>v.owned&&!v.disabled);}\\n\\n\\t},\\n\\tmethods:{\\n\\n\\t\\t/**\\n\\t\\t * Get list of ressurect spells which can be applied to b.\\n\\t\\t * @param {Npc}\\n\\t\\t */\\n\\t\\trezzes(b){\\n\\t\\t\\treturn this.rezList.filter(v=>v.canUseOn(b) );\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Use resurrect spell on minion.\\n\\t\\t * @param {Spell}\\n\\t\\t * @param {Npc}\\n\\t\\t */\\n\\t\\tuseRez( rez, b) {\\n\\n\\t\\t\\tGame.tryItem(rez);\\n\\t\\t\\tb.hp.set(1);\\n\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Toggle whether or not minion is an active ally.\\n\\t\\t */\\n\\t\\ttoggleActive(b) {\\n\\t\\t\\tthis.minions.setActive( b, !b.active );\\n\\t\\t},\\n\\n\\t\\tdismiss(b){\\n\\t\\t\\tthis.minions.remove(b);\\n\\t\\t},\\n\\n\\t\\t/** @todo: shared display funcs. */\\n\\t\\ttoNum(v) {\\n\\n\\t\\t\\tif ( v === undefined || v=== null ) return 0;\\n\\t\\t\\treturn ( (typeof v === 'object') ? v.value : v ).toFixed(1);\\n\\n\\t\\t}\\n\\n\\t}\\n\\n}\\n</script>\\n\\n<template>\\n\\n<div class=\\\"minions\\\">\\n\\n\\t<filterbox v-model=\\\"filtered\\\" :items=\\\"this.minions.items\\\" min-items=\\\"10\\\" />\\n\\n\\t<div v-if=\\\"inExplore\\\" class=\\\"warn-text\\\">Cannot change active minions while adventuring</div>\\n\\t<div class=\\\"minion-title\\\">\\n\\t\\t<span>Total Minions: {{ minions.count + ' / ' + Math.floor(minions.max) }}</span>\\n\\t\\t<span>Allies Power: {{ Math.floor(allies.used) + ' / ' + Math.floor( allies.max.value ) }}</span></div>\\n\\n\\t<div class=\\\"char-list\\\">\\n\\t<table>\\n\\t\\t<tr><th>Creature</th><th class=\\\"num-align\\\">Life</th><th>Active</th><th>Actions</th></tr>\\n\\t\\t<tr class=\\\"char-row\\\" v-for=\\\"b in filtered\\\" :key=\\\"b.id\\\" @mouseenter.capture.stop=\\\"itemOver($event,b)\\\">\\n\\t\\t\\t<th><input class=\\\"fld-name\\\" type=\\\"text\\\" v-model=\\\"b.name\\\"></th>\\n\\t\\t\\t<td class=\\\"num-align\\\">{{ toNum(b.hp) }} / {{ toNum( b.hp.max ) }}</td>\\n\\n\\t\\t\\t<td v-if=\\\"!b.alive\\\">\\n\\t\\t\\t\\t<span>Dead</span>\\n\\n\\t\\t\\t</td>\\n\\t\\t\\t<td v-else>\\n\\t\\t\\t\\t<button v-if=\\\"b.active\\\" @click=\\\"toggleActive(b)\\\" :disabled=\\\"inExplore\\\">Rest</button>\\n\\t\\t\\t\\t<button v-else @click=\\\"toggleActive(b)\\\" :disabled=\\\"inExplore||!allies.canAdd(b)\\\">Activate</button>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td v-if=\\\"!b.alive\\\">\\n\\t\\t\\t\\t<!-- note this is a separate section from the one above -->\\n\\t\\t\\t\\t<button class=\\\"rez\\\" v-for=\\\"r in rezzes(b)\\\" :key=\\\"r.id\\\" :disabled=\\\"!r.canUse()\\\" @click=\\\"useRez(r,b)\\\">{{ r.name }}</button>\\n\\n\\t\\t\\t</td>\\n\\t\\t\\t<td>\\n\\t\\t\\t\\t<confirm @confirm=\\\"dismiss(b)\\\">{{ 'Dismiss'}}</confirm>\\n\\t\\t\\t</td>\\n\\n\\t\\t</tr>\\n\\t</table>\\n\\t</div>\\n\\n</div>\\n\\n</template>\\n\\n<style scoped>\\n\\ndiv.minions .rez {\\n\\ttext-transform: capitalize;\\n}\\n\\ndiv.minions .minion-title {\\n\\tdisplay:flex;\\n\\tmin-width: 12rem;\\n\\tmax-width: 50%;\\n\\tjustify-content: space-between;\\n}\\n\\ndiv.minions .warn-text {\\n\\tmargin-bottom: var( --sm-gap );\\n}\\ndiv.minions {\\n\\tpadding-left:1rem;\\n\\tpadding-top: var( --tiny-gap );\\n\\theight:100%;\\n}\\n\\n.char-list {\\n\\theight:85%;\\n\\toverflow-y:auto;\\n}\\n\\ntable {\\n\\tborder-spacing: var(--sm-gap) 0;\\n\\tborder-collapse: collapse;\\n\\trow-gap: var(--sm-gap);\\n\\tcolumn-gap: var(--md-gap);\\n\\n}\\n\\ntr:first-child th {\\n\\tborder-bottom: 1pt solid black;\\n\\tmargin: var(--sm-gap);\\n}\\n\\ntr > th:first-of-type {\\n\\ttext-align: left;\\n}\\n\\nth {\\n\\tpadding: var(--sm-gap) var(--md-gap);\\n}\\n\\ntd.num-align {\\n\\tpadding: var(--md-gap);\\n}\\n\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return !this.minItems || _vm.text || this.items.length >= this.minItems\n    ? _c(\"div\", { staticClass: \"filter-box\" }, [\n        _c(\"label\", { attrs: { for: _vm.elmId(\"filter\") } }, [_vm._v(\"Find\")]),\n        _vm._v(\" \"),\n        _c(\"input\", {\n          directives: [\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.findText,\n              expression: \"findText\"\n            }\n          ],\n          attrs: { id: _vm.elmId(\"filter\"), type: \"text\" },\n          domProps: { value: _vm.findText },\n          on: {\n            input: function($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.findText = $event.target.value\n            }\n          }\n        })\n      ])\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nexport default {\n\n\t/**\n\t * @property {object[]} items - items to filter.\n\t * @property {prop} [prop='name'] - target prop of filter test.\n\t *\n\t * @property {number} [minItems=0] - minimum number of items before box is visible.\n\t */\n\tprops:['value', 'items', 'prop', 'minItems'],\n\tdata() {\n\t\treturn {\n\t\t\ttext:'',\n\t\t\tpprop:this.prop||'name'\n\t\t}\n\t},\n\twatch:{\n\t\titems(newVal,oldVal){ this.findText = this.findText; }\n\t},\n\tcreated(){\n\t\tthis.findText = this.text;\n\t},\n\tmethods:{\n\t\tclear(){ this.text = ''; }\n\t},\n\tcomputed:{\n\n\t\tfindText:{\n\n\t\t\tget() { return this.text; },\n\t\t\tset(v){\n\n\t\t\t\tthis.text = v;\n\t\t\t\tlet p = this.pprop;\n\n\t\t\t\tif ( !v ) this.$emit( 'input', this.items );\n\n\t\t\t\tvar txt = v.toLowerCase();\n\n\t\t\t\tif ( typeof p === 'function') {\n\n \t\t\t\t\tthis.$emit( 'input', this.items.filter(\n\t\t\t\t\t\tit=>p(it, txt )\n\t\t\t\t\t));\n\n\t\t\t\t} else this.$emit( 'input', this.items.filter(\n\t\t\t\t\tit=>(typeof it === 'object') &&\n\t\t\t\t\t( (typeof it[p]) === 'string' ) && it[p].toLowerCase().includes( txt )\n\t\t\t\t));\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n</script>\n\n\n<template>\n\t<div class=\"filter-box\" v-if=\"!this.minItems||text||(this.items.length>=this.minItems)\">\n\t\t<label :for=\"elmId('filter')\">Find</label>\n\t\t<input :id=\"elmId('filter')\" v-model=\"findText\" type=\"text\">\n\t</div>\n</template>\n\n\n<style scoped>\nlabel {\n\tmargin-right:var(--md-gap);\n}\n</style>","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filterbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filterbox.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filterbox.vue?vue&type=style&index=0&id=6d0e0bec&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filterbox.vue?vue&type=style&index=0&id=6d0e0bec&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./filterbox.vue?vue&type=template&id=6d0e0bec&scoped=true&\"\nimport script from \"./filterbox.vue?vue&type=script&lang=js&\"\nexport * from \"./filterbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./filterbox.vue?vue&type=style&index=0&id=6d0e0bec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d0e0bec\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/arcanum/arcanum/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6d0e0bec')) {\n      api.createRecord('6d0e0bec', component.options)\n    } else {\n      api.reload('6d0e0bec', component.options)\n    }\n    module.hot.accept(\"./filterbox.vue?vue&type=template&id=6d0e0bec&scoped=true&\", function () {\n      api.rerender('6d0e0bec', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/ui/components/filterbox.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"minions\" },\n    [\n      _c(\"filterbox\", {\n        attrs: { items: this.minions.items, \"min-items\": \"10\" },\n        model: {\n          value: _vm.filtered,\n          callback: function($$v) {\n            _vm.filtered = $$v\n          },\n          expression: \"filtered\"\n        }\n      }),\n      _vm._v(\" \"),\n      _vm.inExplore\n        ? _c(\"div\", { staticClass: \"warn-text\" }, [\n            _vm._v(\"Cannot change active minions while adventuring\")\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"minion-title\" }, [\n        _c(\"span\", [\n          _vm._v(\n            \"Total Minions: \" +\n              _vm._s(_vm.minions.count + \" / \" + Math.floor(_vm.minions.max))\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"span\", [\n          _vm._v(\n            \"Allies Power: \" +\n              _vm._s(\n                Math.floor(_vm.allies.used) +\n                  \" / \" +\n                  Math.floor(_vm.allies.max.value)\n              )\n          )\n        ])\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"char-list\" }, [\n        _c(\n          \"table\",\n          [\n            _vm._m(0),\n            _vm._v(\" \"),\n            _vm._l(_vm.filtered, function(b) {\n              return _c(\n                \"tr\",\n                {\n                  key: b.id,\n                  staticClass: \"char-row\",\n                  on: {\n                    \"!mouseenter\": function($event) {\n                      $event.stopPropagation()\n                      return _vm.itemOver($event, b)\n                    }\n                  }\n                },\n                [\n                  _c(\"th\", [\n                    _c(\"input\", {\n                      directives: [\n                        {\n                          name: \"model\",\n                          rawName: \"v-model\",\n                          value: b.name,\n                          expression: \"b.name\"\n                        }\n                      ],\n                      staticClass: \"fld-name\",\n                      attrs: { type: \"text\" },\n                      domProps: { value: b.name },\n                      on: {\n                        input: function($event) {\n                          if ($event.target.composing) {\n                            return\n                          }\n                          _vm.$set(b, \"name\", $event.target.value)\n                        }\n                      }\n                    })\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"td\", { staticClass: \"num-align\" }, [\n                    _vm._v(\n                      _vm._s(_vm.toNum(b.hp)) +\n                        \" / \" +\n                        _vm._s(_vm.toNum(b.hp.max))\n                    )\n                  ]),\n                  _vm._v(\" \"),\n                  !b.alive\n                    ? _c(\"td\", [_c(\"span\", [_vm._v(\"Dead\")])])\n                    : _c(\"td\", [\n                        b.active\n                          ? _c(\n                              \"button\",\n                              {\n                                attrs: { disabled: _vm.inExplore },\n                                on: {\n                                  click: function($event) {\n                                    return _vm.toggleActive(b)\n                                  }\n                                }\n                              },\n                              [_vm._v(\"Rest\")]\n                            )\n                          : _c(\n                              \"button\",\n                              {\n                                attrs: {\n                                  disabled:\n                                    _vm.inExplore || !_vm.allies.canAdd(b)\n                                },\n                                on: {\n                                  click: function($event) {\n                                    return _vm.toggleActive(b)\n                                  }\n                                }\n                              },\n                              [_vm._v(\"Activate\")]\n                            )\n                      ]),\n                  _vm._v(\" \"),\n                  !b.alive\n                    ? _c(\n                        \"td\",\n                        _vm._l(_vm.rezzes(b), function(r) {\n                          return _c(\n                            \"button\",\n                            {\n                              key: r.id,\n                              staticClass: \"rez\",\n                              attrs: { disabled: !r.canUse() },\n                              on: {\n                                click: function($event) {\n                                  return _vm.useRez(r, b)\n                                }\n                              }\n                            },\n                            [_vm._v(_vm._s(r.name))]\n                          )\n                        }),\n                        0\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _c(\n                    \"td\",\n                    [\n                      _c(\n                        \"confirm\",\n                        {\n                          on: {\n                            confirm: function($event) {\n                              return _vm.dismiss(b)\n                            }\n                          }\n                        },\n                        [_vm._v(_vm._s(\"Dismiss\"))]\n                      )\n                    ],\n                    1\n                  )\n                ]\n              )\n            })\n          ],\n          2\n        )\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"tr\", [\n      _c(\"th\", [_vm._v(\"Creature\")]),\n      _c(\"th\", { staticClass: \"num-align\" }, [_vm._v(\"Life\")]),\n      _c(\"th\", [_vm._v(\"Active\")]),\n      _c(\"th\", [_vm._v(\"Actions\")])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport Game from '../../game';\n\nimport ItemsBase from '../itemsBase';\nimport FilterBox from '../components/filterbox.vue';\n\nexport default {\n\n\tprops:['minions'],\n\tdata(){\n\t\treturn {\n\t\t\tfiltered:null\n\t\t};\n\t},\n\tmixins:[ItemsBase],\n\tcomponents:{\n\t\tfilterbox:FilterBox\n\t},\n\tcomputed:{\n\n\t\tallies() { return this.minions.allies;},\n\n\t\tinExplore() { return Game.state.explore.running },\n\n\t\t/*items(){ return this.minions.filter( v=>v.value>=1 ); },*/\n\n\t\trezList(){return Game.state.getTagSet('rez').filter(v=>v.owned&&!v.disabled);}\n\n\t},\n\tmethods:{\n\n\t\t/**\n\t\t * Get list of ressurect spells which can be applied to b.\n\t\t * @param {Npc}\n\t\t */\n\t\trezzes(b){\n\t\t\treturn this.rezList.filter(v=>v.canUseOn(b) );\n\t\t},\n\n\t\t/**\n\t\t * Use resurrect spell on minion.\n\t\t * @param {Spell}\n\t\t * @param {Npc}\n\t\t */\n\t\tuseRez( rez, b) {\n\n\t\t\tGame.tryItem(rez);\n\t\t\tb.hp.set(1);\n\n\t\t},\n\n\t\t/**\n\t\t * Toggle whether or not minion is an active ally.\n\t\t */\n\t\ttoggleActive(b) {\n\t\t\tthis.minions.setActive( b, !b.active );\n\t\t},\n\n\t\tdismiss(b){\n\t\t\tthis.minions.remove(b);\n\t\t},\n\n\t\t/** @todo: shared display funcs. */\n\t\ttoNum(v) {\n\n\t\t\tif ( v === undefined || v=== null ) return 0;\n\t\t\treturn ( (typeof v === 'object') ? v.value : v ).toFixed(1);\n\n\t\t}\n\n\t}\n\n}\n</script>\n\n<template>\n\n<div class=\"minions\">\n\n\t<filterbox v-model=\"filtered\" :items=\"this.minions.items\" min-items=\"10\" />\n\n\t<div v-if=\"inExplore\" class=\"warn-text\">Cannot change active minions while adventuring</div>\n\t<div class=\"minion-title\">\n\t\t<span>Total Minions: {{ minions.count + ' / ' + Math.floor(minions.max) }}</span>\n\t\t<span>Allies Power: {{ Math.floor(allies.used) + ' / ' + Math.floor( allies.max.value ) }}</span></div>\n\n\t<div class=\"char-list\">\n\t<table>\n\t\t<tr><th>Creature</th><th class=\"num-align\">Life</th><th>Active</th><th>Actions</th></tr>\n\t\t<tr class=\"char-row\" v-for=\"b in filtered\" :key=\"b.id\" @mouseenter.capture.stop=\"itemOver($event,b)\">\n\t\t\t<th><input class=\"fld-name\" type=\"text\" v-model=\"b.name\"></th>\n\t\t\t<td class=\"num-align\">{{ toNum(b.hp) }} / {{ toNum( b.hp.max ) }}</td>\n\n\t\t\t<td v-if=\"!b.alive\">\n\t\t\t\t<span>Dead</span>\n\n\t\t\t</td>\n\t\t\t<td v-else>\n\t\t\t\t<button v-if=\"b.active\" @click=\"toggleActive(b)\" :disabled=\"inExplore\">Rest</button>\n\t\t\t\t<button v-else @click=\"toggleActive(b)\" :disabled=\"inExplore||!allies.canAdd(b)\">Activate</button>\n\t\t\t</td>\n\t\t\t<td v-if=\"!b.alive\">\n\t\t\t\t<!-- note this is a separate section from the one above -->\n\t\t\t\t<button class=\"rez\" v-for=\"r in rezzes(b)\" :key=\"r.id\" :disabled=\"!r.canUse()\" @click=\"useRez(r,b)\">{{ r.name }}</button>\n\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<confirm @confirm=\"dismiss(b)\">{{ 'Dismiss'}}</confirm>\n\t\t\t</td>\n\n\t\t</tr>\n\t</table>\n\t</div>\n\n</div>\n\n</template>\n\n<style scoped>\n\ndiv.minions .rez {\n\ttext-transform: capitalize;\n}\n\ndiv.minions .minion-title {\n\tdisplay:flex;\n\tmin-width: 12rem;\n\tmax-width: 50%;\n\tjustify-content: space-between;\n}\n\ndiv.minions .warn-text {\n\tmargin-bottom: var( --sm-gap );\n}\ndiv.minions {\n\tpadding-left:1rem;\n\tpadding-top: var( --tiny-gap );\n\theight:100%;\n}\n\n.char-list {\n\theight:85%;\n\toverflow-y:auto;\n}\n\ntable {\n\tborder-spacing: var(--sm-gap) 0;\n\tborder-collapse: collapse;\n\trow-gap: var(--sm-gap);\n\tcolumn-gap: var(--md-gap);\n\n}\n\ntr:first-child th {\n\tborder-bottom: 1pt solid black;\n\tmargin: var(--sm-gap);\n}\n\ntr > th:first-of-type {\n\ttext-align: left;\n}\n\nth {\n\tpadding: var(--sm-gap) var(--md-gap);\n}\n\ntd.num-align {\n\tpadding: var(--md-gap);\n}\n\n</style>","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./minions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./minions.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./minions.vue?vue&type=style&index=0&id=39072fa4&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./minions.vue?vue&type=style&index=0&id=39072fa4&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./minions.vue?vue&type=template&id=39072fa4&scoped=true&\"\nimport script from \"./minions.vue?vue&type=script&lang=js&\"\nexport * from \"./minions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./minions.vue?vue&type=style&index=0&id=39072fa4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39072fa4\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/arcanum/arcanum/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('39072fa4')) {\n      api.createRecord('39072fa4', component.options)\n    } else {\n      api.reload('39072fa4', component.options)\n    }\n    module.hot.accept(\"./minions.vue?vue&type=template&id=39072fa4&scoped=true&\", function () {\n      api.rerender('39072fa4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/ui/sections/minions.vue\"\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","render","_vm","this","_h","$createElement","_c","_self","minItems","text","items","length","staticClass","attrs","for","elmId","_v","directives","name","rawName","value","findText","expression","type","domProps","on","input","$event","target","composing","_e","_withStripped","props","data","pprop","prop","watch","newVal","oldVal","created","methods","clear","computed","get","set","v","p","$emit","txt","toLowerCase","filter","it","includes","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","component","__file","minions","model","filtered","callback","$$v","inExplore","_s","count","Math","floor","max","allies","used","_m","_l","b","key","stopPropagation","itemOver","$set","toNum","hp","alive","active","disabled","click","toggleActive","canAdd","rezzes","r","canUse","useRez","confirm","dismiss","mixins","components","filterbox","rezList","owned","canUseOn","rez","setActive","remove","toFixed"],"sourceRoot":""}