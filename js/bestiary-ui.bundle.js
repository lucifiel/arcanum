"use strict";(self.webpackChunk_name_=self.webpackChunk_name_||[]).push([[215],{1430:(t,e,n)=>{n.d(e,{Z:()=>i});var s=n(3645),r=n.n(s)()((function(t){return t[1]}));r.push([t.id,"\nlabel[data-v-6d0e0bec] {\n\tmargin-right:var(--md-gap);\n}\n",""]);const i=r},2657:(t,e,n)=>{n.d(e,{Z:()=>i});var s=n(3645),r=n.n(s)()((function(t){return t[1]}));r.push([t.id,"\ntr .table-head[data-v-28e20fbc] {\n\tcursor: pointer;\n\ttext-decoration: underline;\n\tuser-select: none;\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n}\ndiv.bestiary[data-v-28e20fbc] {\ndisplay:flex;\nflex-direction: column;\nmargin-left:0.9em;\npadding:0;\nmargin:0;\n}\n.char-list[data-v-28e20fbc] {\n\twidth:100%;\n\tpadding: 0; margin: 0;\n\toverflow-y:auto;\n\tmargin-bottom:1rem;\n}\ntable.bestiary[data-v-28e20fbc] {\n\tborder-spacing: var(--sm-gap) 0;\n\tborder-collapse: collapse;\n\trow-gap: var(--sm-gap);\n\tcolumn-gap: var(--md-gap);\n}\ntr:first-child .table-head[data-v-28e20fbc] {\n\tborder-bottom: 1pt solid black;\n\tmargin:var(--sm-gap);\n}\n.table-head[data-v-28e20fbc] {\n\tpadding: var(--sm-gap) var(--md-gap);\n}\ntd.num-align[data-v-28e20fbc] {\n\tpadding: var(--md-gap);\n}\n\n",""]);const i=r},4194:(t,e,n)=>{n.d(e,{Z:()=>x});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!this.minItems||t.text||this.items.length>=this.minItems?n("div",{staticClass:"filter-box"},[n("label",{attrs:{for:t.elmId("filter")}},[t._v("Find")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.findText,expression:"findText"}],attrs:{id:t.elmId("filter"),type:"text"},domProps:{value:t.findText},on:{input:function(e){e.target.composing||(t.findText=e.target.value)}}})]):t._e()};s._withStripped=!0;const r={props:["value","items","prop","minItems"],data(){return{text:"",pprop:this.prop||"name"}},watch:{items(t,e){this.findText=this.findText}},created(){this.findText=this.text},methods:{clear(){this.text=""}},computed:{findText:{get(){return this.text},set(t){this.text=t;let e=this.pprop;t||this.$emit("input",this.items);var n=t.toLowerCase();"function"==typeof e?this.$emit("input",this.items.filter((t=>e(t,n)))):this.$emit("input",this.items.filter((t=>"object"==typeof t&&"string"==typeof t[e]&&t[e].toLowerCase().includes(n))))}}}};var i=n(3379),a=n.n(i),l=n(7795),o=n.n(l),d=n(569),c=n.n(d),m=n(3565),u=n.n(m),v=n(9216),h=n.n(v),f=n(4589),p=n.n(f),b=n(1430),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=h(),a()(b.Z,g),b.Z&&b.Z.locals&&b.Z.locals;var _=(0,n(1900).Z)(r,s,[],!1,null,"6d0e0bec",null);_.options.__file="src/ui/components/filterbox.vue";const x=_.exports},597:(t,e,n)=>{n.r(e),n.d(e,{default:()=>S});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bestiary"},[n("filterbox",{attrs:{items:t.allItems,"min-items":"14"},model:{value:t.filtered,callback:function(e){t.filtered=e},expression:"filtered"}}),t._v(" "),n("div",{staticClass:"char-list"},[n("table",{staticClass:"bestiary"},[n("tr",[n("th",{staticClass:"table-head",on:{click:function(e){return t.setSort("name")}}},[t._v("Creature")]),t._v(" "),n("th",{staticClass:"table-head",on:{click:function(e){return t.setSort("level")}}},[t._v("Level")]),t._v(" "),n("th",{staticClass:"table-head",on:{click:function(e){return t.setSort("value")}}},[t._v("Slain")]),t._v(" "),n("th",{staticClass:"num-align table-head",on:{click:function(e){return t.setSort("hp")}}},[t._v("Hp")])]),t._v(" "),t._l(t.sorted,(function(e){return n("tr",{key:e.id,on:{"!mouseenter":function(n){return n.stopPropagation(),t.itemOver(n,e)}}},[n("th",{staticClass:"lg-name"},[t._v(t._s(e.name))]),t._v(" "),n("td",{staticClass:"num-align"},[t._v(t._s(Math.floor(e.level)))]),t._v(" "),n("td",{staticClass:"num-align"},[t._v(t._s(Math.floor(e.value)))]),t._v(" "),n("td",{staticClass:"num-align"},[t._v(t._s(t.showHp(e)?t.toNum(e.hp):"???"))]),t._v(" "),n("td",[n("button",{attrs:{disabled:e.unique||!e.canUse(t.game)||0==t.minions.freeSpace()},on:{click:function(n){return t.tryUse(e)}}},[t._v("Buy")])])])}))],2)])],1)};s._withStripped=!0;var r=n(7112),i=n(9736),a=(n(7130),n(4194)),l=n(4478),o=n(7826),d=n(9188),c=n(2572);const m={mixins:[i.Z],data:()=>({filtered:null,sortBy:"level",sortOrder:1,loreLevels:{}}),components:{filterbox:a.Z},beforeCreate(){this.game=r.ZP},methods:{tryUse(t){this.emit(l.Nn,t)},loreLevel(t){let e=this.loreLevels[t.kind];return void 0===e&&(e=this.$set(this.loreLevels,t.kind,(0,c.B2)(t.kind,r.ZP))),e},showHp(t){return this.loreLevel(t)>=4*t.level},toNum:t=>("object"==typeof t?t.type===d.TQ?t.max:t.value:t).toFixed(0),setSort(t){this.sortBy===t?this.sortOrder=-this.sortOrder:this.sortBy=t}},computed:{minions:()=>r.ZP.state.minions,allItems(){let t=r.ZP.state.monsters;for(let e=t.length-1;e>=0;e--)t[e].name=t[e].name.toTitleCase();var e=[];for(let s=t.length-1;s>=0;s--){var n=t[s];n.value<=0||(n.cost||this.$set(n,"cost",(0,o.fr)(n)),e.push(n))}return e},sorted(){let t,e,n=this.sortBy,s=this.sortOrder;return(this.filtered||this.allItems).sort(((r,i)=>(t=r[n],e=i[n],t>e?s:e>t?-s:0)))}}};var u=n(3379),v=n.n(u),h=n(7795),f=n.n(h),p=n(569),b=n.n(p),g=n(3565),_=n.n(g),x=n(9216),y=n.n(x),Z=n(4589),k=n.n(Z),C=n(2657),w={};w.styleTagTransform=k(),w.setAttributes=_(),w.insert=b().bind(null,"head"),w.domAPI=f(),w.insertStyleElement=y(),v()(C.Z,w),C.Z&&C.Z.locals&&C.Z.locals;var T=(0,n(1900).Z)(m,s,[],!1,null,"28e20fbc",null);T.options.__file="src/ui/sections/bestiary.vue";const S=T.exports},7826:(t,e,n)=>{n.d(e,{fr:()=>a,e3:()=>o});var s=n(7112),r=n(2572);const i=(t,e,n)=>{if(!s.ZP.state.exists(e))return;let r=t[e];t[e]=r?r+n:n},a=t=>{let e=t.level,n={gold:100*Math.ceil(Math.pow(e,1.7))};return t.kind&&l(t.kind,n,e),t.biome&&l(t.biome,n,e),t.regen&&i(n,"bloodgem",5*(0,r.kR)(e)),n},l=(t,e={},n=1)=>{if(t){t=(0,r.Ku)(t);let s=(0,r.AQ)(t,n);i(e,s,n-(0,r.Lm)(n)+1)}else if(Array.isArray(t))for(let s=t.length-1;s>=0;s--)t[s]&&l(t[s],e,n);return e},o=t=>{var e={};for(let s=t.length-1;s>=0;s--){var n=t[s];e.gold=(e.gold||0)+300*n.level,d(n.school,n.level,e)}return e},d=(t,e=1,n={})=>{if(Array.isArray(t))for(let s=t.length-1;s>=0;s--)d(t[s],e,n);else null!=t&&(i(n,t+"gem",Math.min(e,5)*e),e<=5?i(n,"codices",e):i(n,"tomes",e=5));return n}}}]);