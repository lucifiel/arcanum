{"version":3,"file":"scraft-ui.bundle.js","mappings":"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","sources":["webpack://[name]/./src/ui/sections/scraft.vue?8a51","webpack://[name]/./src/ui/sections/scraft.vue?5eb9","webpack://[name]/src/ui/sections/scraft.vue","webpack://[name]/./src/ui/sections/scraft.vue?1522","webpack://[name]/./src/ui/sections/scraft.vue?a6eb","webpack://[name]/./src/ui/sections/scraft.vue","webpack://[name]/./src/modules/craft.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\ndiv.spellcraft[data-v-622e812c] {\\n\\tdisplay:flex;\\n\\tflex-direction: column;\\n}\\ndiv.spellcraft .userspells[data-v-622e812c] {\\n\\tdisplay:flex;\\n\\tflex-direction: column;\\n\\tpadding: var(--md-gap);\\n\\tborder-bottom: 1pt solid var( --separator-color );\\n}\\ndiv.userspells .spells[data-v-622e812c] {\\n\\tdisplay:flex;\\n\\tflex-flow: row wrap;\\n}\\ndiv.spells .custom[data-v-622e812c] {\\n\\tmargin-right:1.2rem;\\n}\\n.crafting .options[data-v-622e812c] {\\n\\tpadding-bottom: var(--tiny-gap);\\n}\\ndiv.spellcraft .bottom[data-v-622e812c] {\\n\\tdisplay:flex;\\n\\tflex-direction: row;\\n\\tjustify-content: space-between;\\n\\tpadding-top:var(--md-gap);\\n\\tpadding-left:var(--md-gap);\\n}\\ndiv.spellcraft .crafting[data-v-622e812c], div.spellcraft .allspells[data-v-622e812c] {\\n\\tdisplay:flex;\\n\\tflex-direction: column;\\n}\\n\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/ui/sections/scraft.vue\"],\"names\":[],\"mappings\":\";AA8LA;CACA,YAAA;CACA,sBAAA;AACA;AAEA;CACA,YAAA;CACA,sBAAA;CACA,sBAAA;CACA,iDAAA;AACA;AAEA;CACA,YAAA;CACA,mBAAA;AACA;AAEA;CACA,mBAAA;AACA;AAEA;CACA,+BAAA;AACA;AAEA;CACA,YAAA;CACA,mBAAA;CACA,8BAAA;CACA,yBAAA;CACA,0BAAA;AACA;AAEA;CACA,YAAA;CACA,sBAAA;AACA\",\"sourcesContent\":[\"<script>\\nimport ItemBase from '../itemsBase';\\n\\nimport {spellCost} from 'modules/craft';\\nimport Game from '../../game';\\nimport { alphasort } from '../../util/util';\\n\\nexport default {\\n\\n\\tmixins:[ItemBase],\\n\\tdata(){\\n\\n\\t\\treturn {\\n\\n\\t\\t\\tuserSpells:Game.state.userSpells,\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * List of spells in current crafting.\\n\\t\\t\\t */\\n\\t\\t\\tlist:[],\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Craft info object.\\n\\t\\t\\t */\\n\\t\\t\\tcraft:{\\n\\n\\t\\t\\t\\tname:'Crafted Spell',\\n\\t\\t\\t\\tlevel:0,\\n\\t\\t\\t\\tbuy:null\\n\\t\\t\\t}\\n\\n\\t\\t};\\n\\n\\t},\\n\\tmethods:{\\n\\n\\t\\t/**\\n\\t\\t * Remove user spell from UserSpells\\n\\t\\t */\\n\\t\\tremoveSpell(s){\\n\\t\\t\\tthis.userSpells.remove(s);\\n\\t\\t},\\n\\n\\t\\tcanAdd(s) {\\n\\t\\t\\treturn s.level + this.craft.level <= this.maxLevels;\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * @function create - create the new spell combination.\\n\\t\\t */\\n\\t\\tcreate() {\\n\\n\\t\\t\\tif (!this.list || this.list.length === 0 ) return;\\n\\n\\t\\t\\tGame.payCost( this.craft.buy );\\n\\n\\t\\t\\tthis.userSpells.create( this.list, Game.state, this.craft.name );\\n\\t\\t\\tthis.list = [];\\n\\n\\t\\t\\tthis.craft.level = 0;\\n\\t\\t\\tthis.craft.buy = null;\\n\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Add spell to the current crafting group.\\n\\t\\t * Crafted level = list total levels + list.length - 1\\n\\t\\t */\\n\\t\\tadd(s) {\\n\\n\\t\\t\\tthis.list.push(s);\\n\\t\\t\\tthis.craft.level += s.level;\\n\\n\\t\\t\\tthis.craft.buy = spellCost( this.list );\\n\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Remove spell from building list.\\n\\t\\t */\\n\\t\\tremoveAt(i) {\\n\\n\\t\\t\\tlet s = this.list[i];\\n\\n\\t\\t\\tif ( s ) {\\n\\t\\t\\t\\tthis.craft.level -= s.level;\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.list.splice(i,1);\\n\\t\\t\\tthis.craft.buy = spellCost( this.list );\\n\\n\\t\\t}\\n\\n\\t},\\n\\tcomputed:{\\n\\n\\t\\t/**\\n\\t\\t * Determine if the group being created can be crafted.\\n\\t\\t * cost+length + user slots available.\\n\\t\\t * @returns {boolean}\\n\\t\\t */\\n\\t\\tcanCraft() {\\n\\n\\t\\t\\treturn !this.userSpells.full() && this.list.length>0\\n\\t\\t\\t\\t&& Game.canPay( this.craft.buy );\\n\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * @property {Spell[]} spells - all spells in game, except bloodshot.\\n\\t\\t */\\n\\t\\tspells() {\\n\\t\\t\\treturn Game.state.filterItems( v=>v.type === 'spell'&&!this.locked(v)&&v.owned&&v.id!='bloodshot').sort( alphasort );\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Spellcraft power.\\n\\t\\t */\\n\\t\\tscraft(){\\n\\t\\t\\treturn Game.state.getData('scraft');\\n\\t\\t},\\n\\n\\t\\tmaxLevels() {\\n\\t\\t\\treturn Math.floor( this.scraft.valueOf() );\\n\\t\\t}\\n\\n\\t}\\n\\n}\\n\\n</script>\\n\\n<template>\\n\\n<div class=\\\"spellcraft\\\">\\n\\n<div class=\\\"userspells\\\">\\n\\n\\t<div>\\n\\t\\tCustom Spells: {{ Math.floor( userSpells.used) + ' / ' + Math.floor( userSpells.max.value ) }}\\n\\t</div>\\n\\t<div class=\\\"spells\\\">\\n\\t<div class=\\\"custom\\\" v-for=\\\"c in userSpells.items\\\" :key=\\\"c.id\\\" @mouseenter.capture.stop=\\\"itemOver($event,c)\\\">\\n\\t\\t<span class=\\\"text-entry\\\">\\n\\t\\t\\t<input class=\\\"fld-name\\\" type=\\\"text\\\" v-model=\\\"c.name\\\">\\n\\t\\t</span>\\n\\t\\t<button class=\\\"stop\\\" @click=\\\"removeSpell(c)\\\">X</button>\\n\\t</div>\\n\\t</div>\\n\\n</div>\\n\\n<div class=\\\"bottom\\\">\\n<div class=\\\"crafting\\\">\\n\\n\\t<div class=\\\"options\\\">\\n\\t\\t<span class=\\\"warn-text\\\" v-if=\\\"craft.level>=maxLevels\\\">You are at your power limit.</span>\\n\\n\\t\\t<div class=\\\"text-entry\\\"><label :for=\\\"elmId('spName')\\\">Spell</label>\\n\\t\\t<input class=\\\"fld-name\\\" :id=\\\"elmId('spName')\\\" type=\\\"text\\\" v-model=\\\"craft.name\\\">\\n\\t\\t</div>\\n\\n\\t\\t<!--chrome wrap-->\\n\\t\\t<span @mouseenter.capture.stop=\\\"itemOver($event,craft)\\\">\\n\\t\\t<span>Power: {{ craft.level + ' / ' + Math.floor(maxLevels) }}</span>\\n\\t\\t<button @click=\\\"create\\\" :disabled=\\\"!canCraft\\\">Craft</button>\\n\\t\\t</span>\\n\\n\\t</div>\\n\\n\\t<div v-for=\\\"(s,ind) in list\\\" class=\\\"separate\\\" :key=\\\"ind\\\" @mouseenter.capture.stop=\\\"itemOver($event,s)\\\">\\n\\t\\t<span>{{s.name.toTitleCase()}}</span><button class=\\\"remove\\\" @click=\\\"removeAt(ind)\\\">X</button>\\n\\t</div>\\n\\n</div>\\n<div class=\\\"allspells\\\">\\n\\n\\t<div class=\\\"separate\\\" v-for=\\\"(s) in spells\\\" :key=\\\"s.id\\\"  @mouseenter.capture.stop=\\\"itemOver($event,s)\\\">\\n\\t\\t<span>{{s.name.toTitleCase()}}</span><button class=\\\"add\\\" @click=\\\"add(s)\\\" :disabled=\\\"!canAdd(s)\\\">+</button>\\n\\t</div>\\n\\n</div>\\n</div>\\n\\n</div>\\n\\n</template>\\n\\n<style scoped>\\n\\ndiv.spellcraft {\\n\\tdisplay:flex;\\n\\tflex-direction: column;\\n}\\n\\ndiv.spellcraft .userspells {\\n\\tdisplay:flex;\\n\\tflex-direction: column;\\n\\tpadding: var(--md-gap);\\n\\tborder-bottom: 1pt solid var( --separator-color );\\n}\\n\\ndiv.userspells .spells {\\n\\tdisplay:flex;\\n\\tflex-flow: row wrap;\\n}\\n\\ndiv.spells .custom {\\n\\tmargin-right:1.2rem;\\n}\\n\\n.crafting .options {\\n\\tpadding-bottom: var(--tiny-gap);\\n}\\n\\ndiv.spellcraft .bottom {\\n\\tdisplay:flex;\\n\\tflex-direction: row;\\n\\tjustify-content: space-between;\\n\\tpadding-top:var(--md-gap);\\n\\tpadding-left:var(--md-gap);\\n}\\n\\ndiv.spellcraft .crafting, div.spellcraft .allspells {\\n\\tdisplay:flex;\\n\\tflex-direction: column;\\n}\\n\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"spellcraft\" }, [\n    _c(\"div\", { staticClass: \"userspells\" }, [\n      _c(\"div\", [\n        _vm._v(\n          \"\\n\\t\\tCustom Spells: \" +\n            _vm._s(\n              Math.floor(_vm.userSpells.used) +\n                \" / \" +\n                Math.floor(_vm.userSpells.max.value)\n            ) +\n            \"\\n\\t\"\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"spells\" },\n        _vm._l(_vm.userSpells.items, function(c) {\n          return _c(\n            \"div\",\n            {\n              key: c.id,\n              staticClass: \"custom\",\n              on: {\n                \"!mouseenter\": function($event) {\n                  $event.stopPropagation()\n                  return _vm.itemOver($event, c)\n                }\n              }\n            },\n            [\n              _c(\"span\", { staticClass: \"text-entry\" }, [\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: c.name,\n                      expression: \"c.name\"\n                    }\n                  ],\n                  staticClass: \"fld-name\",\n                  attrs: { type: \"text\" },\n                  domProps: { value: c.name },\n                  on: {\n                    input: function($event) {\n                      if ($event.target.composing) {\n                        return\n                      }\n                      _vm.$set(c, \"name\", $event.target.value)\n                    }\n                  }\n                })\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"stop\",\n                  on: {\n                    click: function($event) {\n                      return _vm.removeSpell(c)\n                    }\n                  }\n                },\n                [_vm._v(\"X\")]\n              )\n            ]\n          )\n        }),\n        0\n      )\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"bottom\" }, [\n      _c(\n        \"div\",\n        { staticClass: \"crafting\" },\n        [\n          _c(\"div\", { staticClass: \"options\" }, [\n            _vm.craft.level >= _vm.maxLevels\n              ? _c(\"span\", { staticClass: \"warn-text\" }, [\n                  _vm._v(\"You are at your power limit.\")\n                ])\n              : _vm._e(),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"text-entry\" }, [\n              _c(\"label\", { attrs: { for: _vm.elmId(\"spName\") } }, [\n                _vm._v(\"Spell\")\n              ]),\n              _vm._v(\" \"),\n              _c(\"input\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.craft.name,\n                    expression: \"craft.name\"\n                  }\n                ],\n                staticClass: \"fld-name\",\n                attrs: { id: _vm.elmId(\"spName\"), type: \"text\" },\n                domProps: { value: _vm.craft.name },\n                on: {\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.$set(_vm.craft, \"name\", $event.target.value)\n                  }\n                }\n              })\n            ]),\n            _vm._v(\" \"),\n            _c(\n              \"span\",\n              {\n                on: {\n                  \"!mouseenter\": function($event) {\n                    $event.stopPropagation()\n                    return _vm.itemOver($event, _vm.craft)\n                  }\n                }\n              },\n              [\n                _c(\"span\", [\n                  _vm._v(\n                    \"Power: \" +\n                      _vm._s(\n                        _vm.craft.level + \" / \" + Math.floor(_vm.maxLevels)\n                      )\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    attrs: { disabled: !_vm.canCraft },\n                    on: { click: _vm.create }\n                  },\n                  [_vm._v(\"Craft\")]\n                )\n              ]\n            )\n          ]),\n          _vm._v(\" \"),\n          _vm._l(_vm.list, function(s, ind) {\n            return _c(\n              \"div\",\n              {\n                key: ind,\n                staticClass: \"separate\",\n                on: {\n                  \"!mouseenter\": function($event) {\n                    $event.stopPropagation()\n                    return _vm.itemOver($event, s)\n                  }\n                }\n              },\n              [\n                _c(\"span\", [_vm._v(_vm._s(s.name.toTitleCase()))]),\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"remove\",\n                    on: {\n                      click: function($event) {\n                        return _vm.removeAt(ind)\n                      }\n                    }\n                  },\n                  [_vm._v(\"X\")]\n                )\n              ]\n            )\n          })\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"allspells\" },\n        _vm._l(_vm.spells, function(s) {\n          return _c(\n            \"div\",\n            {\n              key: s.id,\n              staticClass: \"separate\",\n              on: {\n                \"!mouseenter\": function($event) {\n                  $event.stopPropagation()\n                  return _vm.itemOver($event, s)\n                }\n              }\n            },\n            [\n              _c(\"span\", [_vm._v(_vm._s(s.name.toTitleCase()))]),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"add\",\n                  attrs: { disabled: !_vm.canAdd(s) },\n                  on: {\n                    click: function($event) {\n                      return _vm.add(s)\n                    }\n                  }\n                },\n                [_vm._v(\"+\")]\n              )\n            ]\n          )\n        }),\n        0\n      )\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport ItemBase from '../itemsBase';\n\nimport {spellCost} from 'modules/craft';\nimport Game from '../../game';\nimport { alphasort } from '../../util/util';\n\nexport default {\n\n\tmixins:[ItemBase],\n\tdata(){\n\n\t\treturn {\n\n\t\t\tuserSpells:Game.state.userSpells,\n\n\t\t\t/**\n\t\t\t * List of spells in current crafting.\n\t\t\t */\n\t\t\tlist:[],\n\n\t\t\t/**\n\t\t\t * Craft info object.\n\t\t\t */\n\t\t\tcraft:{\n\n\t\t\t\tname:'Crafted Spell',\n\t\t\t\tlevel:0,\n\t\t\t\tbuy:null\n\t\t\t}\n\n\t\t};\n\n\t},\n\tmethods:{\n\n\t\t/**\n\t\t * Remove user spell from UserSpells\n\t\t */\n\t\tremoveSpell(s){\n\t\t\tthis.userSpells.remove(s);\n\t\t},\n\n\t\tcanAdd(s) {\n\t\t\treturn s.level + this.craft.level <= this.maxLevels;\n\t\t},\n\n\t\t/**\n\t\t * @function create - create the new spell combination.\n\t\t */\n\t\tcreate() {\n\n\t\t\tif (!this.list || this.list.length === 0 ) return;\n\n\t\t\tGame.payCost( this.craft.buy );\n\n\t\t\tthis.userSpells.create( this.list, Game.state, this.craft.name );\n\t\t\tthis.list = [];\n\n\t\t\tthis.craft.level = 0;\n\t\t\tthis.craft.buy = null;\n\n\t\t},\n\n\t\t/**\n\t\t * Add spell to the current crafting group.\n\t\t * Crafted level = list total levels + list.length - 1\n\t\t */\n\t\tadd(s) {\n\n\t\t\tthis.list.push(s);\n\t\t\tthis.craft.level += s.level;\n\n\t\t\tthis.craft.buy = spellCost( this.list );\n\n\t\t},\n\n\t\t/**\n\t\t * Remove spell from building list.\n\t\t */\n\t\tremoveAt(i) {\n\n\t\t\tlet s = this.list[i];\n\n\t\t\tif ( s ) {\n\t\t\t\tthis.craft.level -= s.level;\n\t\t\t}\n\n\t\t\tthis.list.splice(i,1);\n\t\t\tthis.craft.buy = spellCost( this.list );\n\n\t\t}\n\n\t},\n\tcomputed:{\n\n\t\t/**\n\t\t * Determine if the group being created can be crafted.\n\t\t * cost+length + user slots available.\n\t\t * @returns {boolean}\n\t\t */\n\t\tcanCraft() {\n\n\t\t\treturn !this.userSpells.full() && this.list.length>0\n\t\t\t\t&& Game.canPay( this.craft.buy );\n\n\t\t},\n\n\t\t/**\n\t\t * @property {Spell[]} spells - all spells in game, except bloodshot.\n\t\t */\n\t\tspells() {\n\t\t\treturn Game.state.filterItems( v=>v.type === 'spell'&&!this.locked(v)&&v.owned&&v.id!='bloodshot').sort( alphasort );\n\t\t},\n\n\t\t/**\n\t\t * Spellcraft power.\n\t\t */\n\t\tscraft(){\n\t\t\treturn Game.state.getData('scraft');\n\t\t},\n\n\t\tmaxLevels() {\n\t\t\treturn Math.floor( this.scraft.valueOf() );\n\t\t}\n\n\t}\n\n}\n\n</script>\n\n<template>\n\n<div class=\"spellcraft\">\n\n<div class=\"userspells\">\n\n\t<div>\n\t\tCustom Spells: {{ Math.floor( userSpells.used) + ' / ' + Math.floor( userSpells.max.value ) }}\n\t</div>\n\t<div class=\"spells\">\n\t<div class=\"custom\" v-for=\"c in userSpells.items\" :key=\"c.id\" @mouseenter.capture.stop=\"itemOver($event,c)\">\n\t\t<span class=\"text-entry\">\n\t\t\t<input class=\"fld-name\" type=\"text\" v-model=\"c.name\">\n\t\t</span>\n\t\t<button class=\"stop\" @click=\"removeSpell(c)\">X</button>\n\t</div>\n\t</div>\n\n</div>\n\n<div class=\"bottom\">\n<div class=\"crafting\">\n\n\t<div class=\"options\">\n\t\t<span class=\"warn-text\" v-if=\"craft.level>=maxLevels\">You are at your power limit.</span>\n\n\t\t<div class=\"text-entry\"><label :for=\"elmId('spName')\">Spell</label>\n\t\t<input class=\"fld-name\" :id=\"elmId('spName')\" type=\"text\" v-model=\"craft.name\">\n\t\t</div>\n\n\t\t<!--chrome wrap-->\n\t\t<span @mouseenter.capture.stop=\"itemOver($event,craft)\">\n\t\t<span>Power: {{ craft.level + ' / ' + Math.floor(maxLevels) }}</span>\n\t\t<button @click=\"create\" :disabled=\"!canCraft\">Craft</button>\n\t\t</span>\n\n\t</div>\n\n\t<div v-for=\"(s,ind) in list\" class=\"separate\" :key=\"ind\" @mouseenter.capture.stop=\"itemOver($event,s)\">\n\t\t<span>{{s.name.toTitleCase()}}</span><button class=\"remove\" @click=\"removeAt(ind)\">X</button>\n\t</div>\n\n</div>\n<div class=\"allspells\">\n\n\t<div class=\"separate\" v-for=\"(s) in spells\" :key=\"s.id\"  @mouseenter.capture.stop=\"itemOver($event,s)\">\n\t\t<span>{{s.name.toTitleCase()}}</span><button class=\"add\" @click=\"add(s)\" :disabled=\"!canAdd(s)\">+</button>\n\t</div>\n\n</div>\n</div>\n\n</div>\n\n</template>\n\n<style scoped>\n\ndiv.spellcraft {\n\tdisplay:flex;\n\tflex-direction: column;\n}\n\ndiv.spellcraft .userspells {\n\tdisplay:flex;\n\tflex-direction: column;\n\tpadding: var(--md-gap);\n\tborder-bottom: 1pt solid var( --separator-color );\n}\n\ndiv.userspells .spells {\n\tdisplay:flex;\n\tflex-flow: row wrap;\n}\n\ndiv.spells .custom {\n\tmargin-right:1.2rem;\n}\n\n.crafting .options {\n\tpadding-bottom: var(--tiny-gap);\n}\n\ndiv.spellcraft .bottom {\n\tdisplay:flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding-top:var(--md-gap);\n\tpadding-left:var(--md-gap);\n}\n\ndiv.spellcraft .crafting, div.spellcraft .allspells {\n\tdisplay:flex;\n\tflex-direction: column;\n}\n\n</style>","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scraft.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scraft.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scraft.vue?vue&type=style&index=0&id=622e812c&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scraft.vue?vue&type=style&index=0&id=622e812c&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./scraft.vue?vue&type=template&id=622e812c&scoped=true&\"\nimport script from \"./scraft.vue?vue&type=script&lang=js&\"\nexport * from \"./scraft.vue?vue&type=script&lang=js&\"\nimport style0 from \"./scraft.vue?vue&type=style&index=0&id=622e812c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"622e812c\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/arcanum/arcanum/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('622e812c')) {\n      api.createRecord('622e812c', component.options)\n    } else {\n      api.reload('622e812c', component.options)\n    }\n    module.hot.accept(\"./scraft.vue?vue&type=template&id=622e812c&scoped=true&\", function () {\n      api.rerender('622e812c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/ui/sections/scraft.vue\"\nexport default component.exports","import game from \"../game\";\nimport { schoolResource, getTier, schoolSkill, tierOffset, getSchool} from \"../values/craftVars\";\n\n\n/**\n * Add cost to buy object.\n * @param {object} buy - current buy params.\n * @param {string} type\n * @param {number} amt\n */\nexport const addCost = ( buy, type, amt ) => {\n\n\n\tif (!game.state.exists(type)) return;\n\n\tlet e = buy[type];\n\tbuy[type] = e ? e + amt : amt;\n\n};\n\n/**\n * Cost to buy an npc.\n * @param {*} m\n */\nexport const npcCost = (m)=>{\n\n\tlet lvl = m.level;\n\n\tlet buy = {\n\n\t\tgold:100*Math.ceil( Math.pow(lvl, 1.7 ) )\n\n\t};\n\n\tif ( m.kind) schoolBuy( m.kind, buy, lvl );\n\tif ( m.biome ) schoolBuy( m.biome, buy, lvl );\n\n\tif ( m.regen ) {\n\t\taddCost( buy, 'bloodgem', getTier( lvl )*5 );\n\t}\n\n\treturn buy;\n\n}\n\n/**\n * CURRENTLY UNUSED.\n * kind cost for npc.\n * @param {Npc} m - npc\n * @param {object} [buy={}] existing buy cost.\n * @param {string} kind - current kind being processed. (for arr recursion)\n */\nexport const npcKindBuy = (m, buy={}, kind=null)=>{\n\n\tkind = kind || m.kind;\n\n\tif ( !kind ) {\n\n\t\tif ( Array.isArray(kind) ) {\n\t\t\t/// check prevents null kind -> m.kind loop.\n\t\t\tfor( let i = kind.length-1; i>=0; i--) if(kind[i]) npcKindBuy( m, buy, kind[i]);\n\t\t}\n\n\t} else {\n\n\t\tlet school = schoolSkill( kind );\n\t\tlet res = schoolResource( school );\n\n\t\taddCost( buy, res, m.level - tierOffset(m.level) + 1 );\n\n\t}\n\n}\n\n/**\n * CURRENTLY UNUSED.\n * Biome cost for npc.\n * @param {Npc} m - npc\n * @param {object} [buy={}] existing buy cost.\n */\nexport const biomeBuy = (m, buy={}, biome=null)=>{\n\n\tbiome = biome || m.biome;\n\n\tif ( !biome ) {\n\n\t\tif ( Array.isArray(biome) ) {\n\t\t\t/// check prevents null kind -> m.kind loop.\n\t\t\tfor( let i = biome.length-1; i>=0; i--) if(biome[i]) biomeBuy( m, buy, biome[i]);\n\t\t}\n\n\t} else {\n\n\n\t}\n\n}\n\n/**\n * Buy object for a school\n * @param {string} school - object containing school.\n * @param {object} [buy={}] existing buy cost.\n * @param {number} [level=1] - level of object being bought.\n */\nexport const schoolBuy = (school, buy={}, level=1 )=>{\n\n\tif ( !school ) {\n\n\t\tif ( Array.isArray(school) ) {\n\t\t\t/// check prevents null kind -> m.kind loop.\n\t\t\tfor( let i = school.length-1; i>=0; i--) if( school[i] ) schoolBuy( school[i], buy, level );\n\t\t}\n\n\t} else {\n\n\t\tschool = getSchool( school );\n\t\tlet res = schoolResource( school, level );\n\n\t\taddCost( buy, res, level - tierOffset( level) + 1 );\n\n\t}\n\n\treturn buy;\n\n}\n\n /**\n * Return a cost object for crafting the list of spells.\n * @param {Spell[]} list\n */\nexport const spellCost = (list) => {\n\n\tvar res = {};\n\n\tfor( let i = list.length-1; i>= 0; i--) {\n\n\t\tvar s = list[i];\n\t\tres.gold = (res.gold||0) + 300*s.level;\n\n\t\tschoolCost( s.school, s.level, res );\n\n\t}\n\n\treturn res;\n\n}\n\n /**\n * Generic cost function for crafting for a school of magic.\n * @param {string|string[]} school\n * @param {object} res\n */\nexport const schoolCost = ( school, level=1, res={} ) => {\n\n\tif ( Array.isArray(school) ) {\n\n\t\tfor( let i = school.length-1; i>=0; i--) schoolCost(school[i],level,res);\n\n\t} else if ( school != null ) {\n\n\t\taddCost( res, school + 'gem', Math.min(level,5)*level );\n\n\t\tif ( level <= 5 ) addCost( res, 'codices', level );\n\t\telse addCost( res, 'tomes', level = 5 );\n\n\t}\n\n\treturn res;\n\n}"],"names":["___CSS_LOADER_EXPORT___","push","module","id","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","Math","floor","userSpells","used","max","value","_l","items","c","key","on","$event","stopPropagation","itemOver","directives","name","rawName","expression","attrs","type","domProps","input","target","composing","$set","click","removeSpell","craft","level","maxLevels","_e","for","elmId","disabled","canCraft","create","list","s","ind","toTitleCase","removeAt","spells","canAdd","add","_withStripped","mixins","data","buy","methods","remove","length","i","splice","computed","full","v","locked","owned","sort","scraft","valueOf","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","component","__file","addCost","amt","e","npcCost","m","lvl","gold","ceil","pow","kind","schoolBuy","biome","regen","school","res","Array","isArray","spellCost","schoolCost","min"],"sourceRoot":""}