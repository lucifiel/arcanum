{"version":3,"file":"popups-ui.bundle.js","mappings":"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","sources":["webpack://[name]/./src/ui/popups/activities.vue?90be","webpack://[name]/./src/ui/popups/choice.vue?d39c","webpack://[name]/./src/ui/popups/activities.vue?e3c2","webpack://[name]/src/ui/popups/activities.vue","webpack://[name]/./src/ui/popups/activities.vue?add4","webpack://[name]/./src/ui/popups/activities.vue?a38a","webpack://[name]/./src/ui/popups/activities.vue","webpack://[name]/./src/ui/popups/choice.vue?1d5e","webpack://[name]/src/ui/popups/choice.vue","webpack://[name]/./src/ui/popups/choice.vue?3910","webpack://[name]/./src/ui/popups/choice.vue?e862","webpack://[name]/./src/ui/popups/choice.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\ndiv.activities[data-v-cacde55a] {\\n\\tmin-width: 28rem;\\n\\twidth: fit-content;\\n\\tpadding-top:1em;\\n\\tpadding: 1.5em;\\n}\\ndiv.section[data-v-cacde55a] {\\n\\tmargin-top: 1em;\\n\\tmin-width: 100%;\\n}\\ndiv.task-info[data-v-cacde55a] {\\n\\tdisplay:flex;\\n\\twidth: 90%;\\n\\tmargin: var(--sm-gap) 0;\\n}\\nbutton.stop[data-v-cacde55a] {\\n\\tmargin: 0 var(--sm-gap);\\n}\\nspan.task-name[data-v-cacde55a] {\\n\\tflex-grow:1;\\n\\tvertical-align: center;\\n}\\ndiv.section header[data-v-cacde55a] {\\n\\tborder-bottom: 1px solid var(--separator-color);\\n\\tmargin-bottom: var(--sm-gap);\\n}\\n\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/ui/popups/activities.vue\"],\"names\":[],\"mappings\":\";AA8JA;CACA,gBAAA;CACA,kBAAA;CACA,eAAA;CACA,cAAA;AACA;AAEA;CACA,eAAA;CACA,eAAA;AACA;AAEA;CACA,YAAA;CACA,UAAA;CACA,uBAAA;AACA;AAEA;CACA,uBAAA;AACA;AAEA;CACA,WAAA;CACA,sBAAA;AACA;AAEA;CACA,+CAAA;CACA,4BAAA;AACA\",\"sourcesContent\":[\"<script>\\nimport Game from 'game';\\nimport { centerXY, positionAt } from './popups.js';\\n\\n/**\\n * Popup Activities Manager.\\n */\\nexport default {\\n\\n\\tmixins:[],\\n\\tdata(){\\n\\n\\t\\treturn {\\n\\t\\t\\t/**\\n\\t\\t\\t * force refresh when array keys swapped.\\n\\t\\t\\t */\\n\\t\\t\\tactiveKey:0,\\n\\t\\t\\twaitKey:0\\n\\t\\t};\\n\\n\\t},\\n\\tmounted() {\\n\\n\\t\\tif ( this.elm) positionAt( this.$el, this.elm, 0 );\\n\\t\\telse centerXY( this.$el, 0.2 );\\n\\n\\t},\\n\\tcomputed:{\\n\\n\\t\\trunner(){\\n\\t\\t\\treturn Game.runner;\\n\\t\\t},\\n\\n\\t\\tactives(){\\n\\t\\t\\treturn this.runner.actives;\\n\\t\\t},\\n\\n\\t\\tactivesLen(){return this.actives.size;},\\n\\n\\t\\twaiting(){\\n\\t\\t\\treturn this.runner.waiting.reverse();\\n\\t\\t},\\n\\t\\t/**\\n\\t\\t * reversed clone of pursuit items.\\n\\t\\t * @property {DataList>Inventory}\\n\\t\\t */\\n\\t\\tpursuits(){\\n\\t\\t\\treturn this.runner.pursuits;\\n\\t\\t}\\n\\n\\t},\\n\\tmethods:{\\n\\n\\t\\tincActive(t){\\n\\t\\t\\tthis.actives.inc(t);\\n\\t\\t\\tthis.activeKey++;\\n\\t\\t},\\n\\n\\t\\tdecActive(t){\\n\\t\\t\\tthis.actives.dec(t);\\n\\t\\t\\tthis.activeKey++;\\n\\t\\t},\\n\\n\\t\\tremoveActive(t){\\n\\t\\t\\tthis.runner.stopTask(t);\\n\\t\\t},\\n\\n\\t\\tremoveWait(t){\\n\\t\\t\\tthis.runner.removeWait(t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Increase priority.\\n\\t\\t */\\n\\t\\tincWaiting(t){\\n\\t\\t\\tthis.runner.waitingUp(t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Decrease priority.\\n\\t\\t */\\n\\t\\tdecWaiting(t){\\n\\t\\t\\tthis.runner.waitingDown(t);\\n\\t\\t},\\n\\n\\t\\tremovePursuit(t){\\n\\t\\t\\tthis.pursuits.remove(t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Increase priority.\\n\\t\\t */\\n\\t\\tincPursuits(t){\\n\\t\\t\\tthis.runner.pursuitUp(t);\\n\\t\\t},\\n\\n\\t\\t/**\\n\\t\\t * Decrease priority.\\n\\t\\t */\\n\\t\\tdecPursuits(t){\\n\\t\\t\\tthis.runner.pursuitDown(t);\\n\\t\\t}\\n\\n\\t}\\n\\n}\\n</script>\\n\\n<template>\\n<div class=\\\"popup activities\\\">\\n\\n\\t<div class=\\\"popup-close\\\" @click=\\\"$emit('close')\\\">X</div>\\n\\n\\t<div class=\\\"section\\\" :key=\\\"'k'+activeKey\\\">\\n\\t\\t<header>Activities</header>\\n\\t\\t<div v-if=\\\"activesLen===0\\\" class=\\\"note-text\\\">None</div>\\n\\t\\t<div v-else>\\n\\t\\t<div v-for=\\\"(t,ind) in actives.values().reverse()\\\" :key=\\\"'a'+ind\\\" class=\\\"task-info\\\">\\n\\t\\t\\t<button class=\\\"stop\\\" @click=\\\"removeActive(t)\\\">X</button><span class=\\\"task-name\\\">{{ t.name.toTitleCase() }}</span>\\n\\t\\t\\t<!-- note: indices are reversed -->\\n\\t\\t\\t<button @click=\\\"incActive(t)\\\" :disabled=\\\"ind===0\\\">+</button>\\n\\t\\t\\t<button @click=\\\"decActive(t)\\\" :disabled=\\\"(ind+1)===activesLen\\\">-</button>\\n\\n\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div class=\\\"section\\\" :key=\\\"'w'+waitKey\\\">\\n\\t\\t<header>Waiting/Blocked</header>\\n\\t\\t<div v-if=\\\"waiting.length===0\\\" class=\\\"note-text\\\">None</div>\\n\\t\\t<div v-else>\\n\\t\\t<div v-for=\\\"(t,ind) in waiting\\\" :key=\\\"'w'+ind\\\" class=\\\"task-info\\\">\\n\\t\\t\\t<button class=\\\"stop\\\" @click=\\\"removeWait(t)\\\">X</button><span class=\\\"task-name\\\">{{ t.name.toTitleCase() }}</span>\\n\\t\\t\\t<button @click=\\\"incWaiting(t)\\\" :disabled=\\\"ind===0\\\">+</button>\\n\\t\\t\\t<button @click=\\\"decWaiting(t)\\\" :disabled=\\\"(ind+1)===waiting.length\\\">-</button>\\n\\n\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div class=\\\"section\\\">\\n\\t\\t<header>Pursuits</header>\\n\\t\\t<div v-if=\\\"pursuits.count===0\\\" class=\\\"note-text\\\">None</div>\\n\\t\\t<div v-else>\\n\\t\\t<div v-for=\\\"(t) in pursuits.items\\\" :key=\\\"t.id\\\" class=\\\"task-info\\\">\\n\\n\\t\\t\\t<button class=\\\"stop\\\" @click=\\\"removePursuit(t)\\\">X</button><span class=\\\"task-name\\\">{{ t.name.toTitleCase() }}</span>\\n\\t\\t\\t<!--<button v-if=\\\"runner.canPursuit(t)\\\" :class=\\\"['pursuit', pursuits.includes( runner.baseTask(t) ) ? 'current' : '']\\\"\\n\\t\\t\\t\\t\\t@click=\\\"runner.togglePursuit(t)\\\"> F </button>-->\\n\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\n</div>\\n</template>\\n\\n<style scoped>\\n\\ndiv.activities {\\n\\tmin-width: 28rem;\\n\\twidth: fit-content;\\n\\tpadding-top:1em;\\n\\tpadding: 1.5em;\\n}\\n\\ndiv.section {\\n\\tmargin-top: 1em;\\n\\tmin-width: 100%;\\n}\\n\\ndiv.task-info {\\n\\tdisplay:flex;\\n\\twidth: 90%;\\n\\tmargin: var(--sm-gap) 0;\\n}\\n\\nbutton.stop {\\n\\tmargin: 0 var(--sm-gap);\\n}\\n\\nspan.task-name {\\n\\tflex-grow:1;\\n\\tvertical-align: center;\\n}\\n\\ndiv.section header {\\n\\tborder-bottom: 1px solid var(--separator-color);\\n\\tmargin-bottom: var(--sm-gap);\\n}\\n\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.disabled[data-v-980be7f2] {\\n  border-color: rgba(0,0,0,0.4);\\n  color: rgba(0,0,0,0.4);\\n}\\n.popup[data-v-980be7f2] {\\n\\tz-index: var(--md-depth);\\n\\tmax-width: 50vw;\\n}\\n.content[data-v-980be7f2] {\\n\\tdisplay:flex;\\n\\tflex-flow: column nowrap;\\n\\twidth: 100%;\\n\\tmin-height:5rem;\\n}\\n.content .items[data-v-980be7f2] {\\n\\tdisplay:flex;\\n\\tflex-flow: row wrap;\\n\\tflex-grow: 1;\\n\\twidth:auto;\\n}\\n.content .title[data-v-980be7f2] {\\n\\tfont-weight: bold;\\n\\ttext-align: center;\\n\\tmargin-bottom: var(--sm-gap);\\n}\\n.task-btn[data-v-980be7f2] {\\n\\n\\tmax-height: 2em;\\n\\twidth:100%;\\n}\\nbutton.close-btn[data-v-980be7f2] {\\n\\tmin-height: 2em;\\n\\twidth: 5em;\\n\\tfont-size:0.9em;\\n}\\n\\n\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/ui/popups/choice.vue\"],\"names\":[],\"mappings\":\";AAgLA;EACA,6BAAA;EACA,sBAAA;AACA;AAEA;CACA,wBAAA;CACA,eAAA;AACA;AACA;CACA,YAAA;CACA,wBAAA;CACA,WAAA;CACA,eAAA;AACA;AAEA;CACA,YAAA;CACA,mBAAA;CACA,YAAA;CACA,UAAA;AACA;AAEA;CACA,iBAAA;CACA,kBAAA;CACA,4BAAA;AACA;AAEA;;CAEA,eAAA;CACA,UAAA;AACA;AAEA;CACA,eAAA;CACA,UAAA;CACA,eAAA;AACA\",\"sourcesContent\":[\"<script>\\nimport Game from '../../game';\\nimport { centerX, positionAt } from './popups.js';\\n\\nimport ItemsBase from '../itemsBase.js';\\nimport GData from '../../items/gdata';\\n\\n/**\\n * @note The Choice Mechanism is highly convoluted right now, due to Vue interactions\\n * and poor structure on my part. slotpick button emits an event to open the choice popup.\\n * It might be better to place choice as a component of slotpick?\\n * @emits choice\\n */\\nexport default {\\n\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\ttitle:null,\\n\\t\\t\\tlist:null,\\n\\t\\t\\telm:null,\\n\\t\\t\\titem:null,\\n\\t\\t\\topen:false,\\n\\t\\t\\tmustPay:false,\\n\\t\\t\\tstrings:false\\n\\t\\t}\\n\\t},\\n\\tmixins:[ItemsBase],\\n\\tcreated(){\\n\\n\\t\\tthis.cb = null;\\n\\n\\t\\tthis.plisten = ()=>{\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Special event to show choice dialog.\\n\\t\\t\\t*/\\n\\t\\t\\tthis.add( 'choice', this.show, this );\\n\\n\\t\\t};\\n\\n\\t\\tthis.listen('game-loaded', this.plisten );\\n\\n\\t},\\n\\tbeforeDestroy(){\\n\\t\\tthis.removeListener( 'game-loaded', this.plisten );\\n\\t\\tthis.plisten = null;\\n\\t\\tthis.cancel();\\n\\t},\\n\\tupdated() {\\n\\n\\t\\tif (this.open===false) return;\\n\\n\\t\\tif ( this.elm) positionAt( this.$el, this.elm, 0 );\\n\\t\\telse centerX( this.$el );\\n\\n\\t},\\n\\tcomputed:{\\n\\n\\t\\t/**\\n\\t\\t * @property {gdata[]} choices - used to convert strings or tag string into choice objects.\\n\\t\\t */\\n\\t\\tchoices:{\\n\\n\\t\\t\\tget(){ return this.list; },\\n\\t\\t\\tset(v){\\n\\n\\t\\t\\t\\tif ( typeof v === 'string') v = Game.state.getData( v );\\n\\n\\t\\t\\t\\tif ( v && v.items ) v = v.items;\\n\\t\\t\\t\\tif ( Array.isArray(v ) ) {\\n\\n\\t\\t\\t\\t\\tif ( this.strings ) this.list = v;\\n\\t\\t\\t\\t\\telse {\\n\\t\\t\\t\\t\\t\\tvar a = [];\\n\\t\\t\\t\\t\\t\\tfor( let i = v.length-1; i>= 0; i-- ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tvar it = Game.state.findData( v[i] );\\n\\t\\t\\t\\t\\t\\t\\tif ( it ) a.push(it);\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tthis.list = a;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t} else this.list = null;\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t},\\n\\tmethods:{\\n\\n\\t\\t/**\\n\\t\\t * @param {object} opts - dispaly options\\n\\t\\t * @param {?HTMLElement} opts.elm - element to display relative to.\\n\\t\\t * @param {?function} opts.cb - callback\\n\\t\\t * @param {?string} opts.title - choice title.\\n\\t\\t * @param {?boolean} opts.mustPay - must pay to select.\\n\\t\\t * @param {?boolean} opts.strings - choices given as raw strings.\\n\\t\\t */\\n\\t\\tshow( choices, opts ) {\\n\\n\\t\\t\\t//console.log('showing choices');\\n\\t\\t\\tthis.title = opts.title;\\n\\t\\t\\tthis.cb = opts.cb;\\n\\t\\t\\tthis.elm = opts.elm;\\n\\t\\t\\tthis.strings = opts.strings;\\n\\t\\t\\tthis.mustPay = opts.mustPay;\\n\\n\\t\\t\\tthis.choices = choices;\\n\\t\\t\\tthis.open=true;\\n\\n\\t\\t},\\n\\n\\t\\tcantPay(it) {\\n\\t\\t\\treturn it.cost&&!Game.canPay(it.cost);\\n\\t\\t},\\n\\n    disabled(it) {\\n      return !this.strings&&!this.slottable(it)||(this.mustPay&&this.cantPay(it));\\n    },\\n\\n\\t\\tchoose( opt ){\\n      if(this.disabled(opt)) return;\\n\\n\\t\\t\\tthis.open = false;\\n\\t\\t\\tthis.item = null;\\n\\t\\t\\tthis.choices = null;\\n\\t\\t\\tthis.elm = null;\\n\\n\\t\\t\\tif ( this.cb ) {\\n\\n\\t\\t\\t\\tlet cb = this.cb;\\n\\t\\t\\t\\tthis.cb = null;\\n\\t\\t\\t\\tcb( opt );\\n\\n\\t\\t\\t}\\n\\n\\t\\t},\\n\\t\\tcancel(){\\n\\t\\t\\tthis.open=false;\\n\\t\\t\\tthis.cb = null;\\n\\t\\t\\tthis.item = null;\\n\\t\\t\\tthis.choices = null;\\n\\t\\t\\tthis.elm = null;\\n\\t\\t}\\n\\n\\t}\\n\\n}\\n</script>\\n\\n<template>\\n<div class=\\\"popup\\\" v-if=\\\"choices!=null&&choices.length>0\\\">\\n\\t<div class=\\\"content\\\">\\n\\n\\t\\t<span class=\\\"title\\\" v-if=\\\"title\\\">{{title}}</span>\\n\\n\\t\\t<div class=\\\"items\\\">\\n      <!--\\t\\t\\t:disabled=\\\"!strings&&!slottable(it)||(mustPay&&cantPay(it))\\\"-->\\n\\t\\t<button class=\\\"task-btn\\\"\\n      :class=\\\"disabled(it) && 'disabled'\\\"\\n\\t\\t\\tv-for=\\\"it in choices\\\" :key=\\\"strings?it:it.id\\\"\\n\\t\\t\\t@mouseenter.capture.stop=\\\"!strings ? itemOver( $event,it):''\\\"\\n\\t\\t\\t@click=\\\"choose( it )\\\">{{ strings ? it : it.name }}</button>\\n\\t\\t</div>\\n\\n\\t\\t<button class=\\\"close-btn\\\" @click=\\\"cancel\\\">Cancel</button>\\n\\n\\t</div>\\n</div>\\n\\n</template>\\n\\n<style scoped>\\n\\n.disabled {\\n  border-color: rgba(0,0,0,0.4);\\n  color: rgba(0,0,0,0.4);\\n}\\n\\n.popup {\\n\\tz-index: var(--md-depth);\\n\\tmax-width: 50vw;\\n}\\n.content {\\n\\tdisplay:flex;\\n\\tflex-flow: column nowrap;\\n\\twidth: 100%;\\n\\tmin-height:5rem;\\n}\\n\\n.content .items {\\n\\tdisplay:flex;\\n\\tflex-flow: row wrap;\\n\\tflex-grow: 1;\\n\\twidth:auto;\\n}\\n\\n.content .title {\\n\\tfont-weight: bold;\\n\\ttext-align: center;\\n\\tmargin-bottom: var(--sm-gap);\\n}\\n\\n.task-btn {\\n\\n\\tmax-height: 2em;\\n\\twidth:100%;\\n}\\n\\nbutton.close-btn {\\n\\tmin-height: 2em;\\n\\twidth: 5em;\\n\\tfont-size:0.9em;\\n}\\n\\n\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"popup activities\" }, [\n    _c(\n      \"div\",\n      {\n        staticClass: \"popup-close\",\n        on: {\n          click: function($event) {\n            return _vm.$emit(\"close\")\n          }\n        }\n      },\n      [_vm._v(\"X\")]\n    ),\n    _vm._v(\" \"),\n    _c(\"div\", { key: \"k\" + _vm.activeKey, staticClass: \"section\" }, [\n      _c(\"header\", [_vm._v(\"Activities\")]),\n      _vm._v(\" \"),\n      _vm.activesLen === 0\n        ? _c(\"div\", { staticClass: \"note-text\" }, [_vm._v(\"None\")])\n        : _c(\n            \"div\",\n            _vm._l(_vm.actives.values().reverse(), function(t, ind) {\n              return _c(\"div\", { key: \"a\" + ind, staticClass: \"task-info\" }, [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"stop\",\n                    on: {\n                      click: function($event) {\n                        return _vm.removeActive(t)\n                      }\n                    }\n                  },\n                  [_vm._v(\"X\")]\n                ),\n                _c(\"span\", { staticClass: \"task-name\" }, [\n                  _vm._v(_vm._s(t.name.toTitleCase()))\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    attrs: { disabled: ind === 0 },\n                    on: {\n                      click: function($event) {\n                        return _vm.incActive(t)\n                      }\n                    }\n                  },\n                  [_vm._v(\"+\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    attrs: { disabled: ind + 1 === _vm.activesLen },\n                    on: {\n                      click: function($event) {\n                        return _vm.decActive(t)\n                      }\n                    }\n                  },\n                  [_vm._v(\"-\")]\n                )\n              ])\n            }),\n            0\n          )\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { key: \"w\" + _vm.waitKey, staticClass: \"section\" }, [\n      _c(\"header\", [_vm._v(\"Waiting/Blocked\")]),\n      _vm._v(\" \"),\n      _vm.waiting.length === 0\n        ? _c(\"div\", { staticClass: \"note-text\" }, [_vm._v(\"None\")])\n        : _c(\n            \"div\",\n            _vm._l(_vm.waiting, function(t, ind) {\n              return _c(\"div\", { key: \"w\" + ind, staticClass: \"task-info\" }, [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"stop\",\n                    on: {\n                      click: function($event) {\n                        return _vm.removeWait(t)\n                      }\n                    }\n                  },\n                  [_vm._v(\"X\")]\n                ),\n                _c(\"span\", { staticClass: \"task-name\" }, [\n                  _vm._v(_vm._s(t.name.toTitleCase()))\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    attrs: { disabled: ind === 0 },\n                    on: {\n                      click: function($event) {\n                        return _vm.incWaiting(t)\n                      }\n                    }\n                  },\n                  [_vm._v(\"+\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    attrs: { disabled: ind + 1 === _vm.waiting.length },\n                    on: {\n                      click: function($event) {\n                        return _vm.decWaiting(t)\n                      }\n                    }\n                  },\n                  [_vm._v(\"-\")]\n                )\n              ])\n            }),\n            0\n          )\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"section\" }, [\n      _c(\"header\", [_vm._v(\"Pursuits\")]),\n      _vm._v(\" \"),\n      _vm.pursuits.count === 0\n        ? _c(\"div\", { staticClass: \"note-text\" }, [_vm._v(\"None\")])\n        : _c(\n            \"div\",\n            _vm._l(_vm.pursuits.items, function(t) {\n              return _c(\"div\", { key: t.id, staticClass: \"task-info\" }, [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"stop\",\n                    on: {\n                      click: function($event) {\n                        return _vm.removePursuit(t)\n                      }\n                    }\n                  },\n                  [_vm._v(\"X\")]\n                ),\n                _c(\"span\", { staticClass: \"task-name\" }, [\n                  _vm._v(_vm._s(t.name.toTitleCase()))\n                ])\n              ])\n            }),\n            0\n          )\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport Game from 'game';\nimport { centerXY, positionAt } from './popups.js';\n\n/**\n * Popup Activities Manager.\n */\nexport default {\n\n\tmixins:[],\n\tdata(){\n\n\t\treturn {\n\t\t\t/**\n\t\t\t * force refresh when array keys swapped.\n\t\t\t */\n\t\t\tactiveKey:0,\n\t\t\twaitKey:0\n\t\t};\n\n\t},\n\tmounted() {\n\n\t\tif ( this.elm) positionAt( this.$el, this.elm, 0 );\n\t\telse centerXY( this.$el, 0.2 );\n\n\t},\n\tcomputed:{\n\n\t\trunner(){\n\t\t\treturn Game.runner;\n\t\t},\n\n\t\tactives(){\n\t\t\treturn this.runner.actives;\n\t\t},\n\n\t\tactivesLen(){return this.actives.size;},\n\n\t\twaiting(){\n\t\t\treturn this.runner.waiting.reverse();\n\t\t},\n\t\t/**\n\t\t * reversed clone of pursuit items.\n\t\t * @property {DataList>Inventory}\n\t\t */\n\t\tpursuits(){\n\t\t\treturn this.runner.pursuits;\n\t\t}\n\n\t},\n\tmethods:{\n\n\t\tincActive(t){\n\t\t\tthis.actives.inc(t);\n\t\t\tthis.activeKey++;\n\t\t},\n\n\t\tdecActive(t){\n\t\t\tthis.actives.dec(t);\n\t\t\tthis.activeKey++;\n\t\t},\n\n\t\tremoveActive(t){\n\t\t\tthis.runner.stopTask(t);\n\t\t},\n\n\t\tremoveWait(t){\n\t\t\tthis.runner.removeWait(t);\n\t\t},\n\n\t\t/**\n\t\t * Increase priority.\n\t\t */\n\t\tincWaiting(t){\n\t\t\tthis.runner.waitingUp(t);\n\t\t},\n\n\t\t/**\n\t\t * Decrease priority.\n\t\t */\n\t\tdecWaiting(t){\n\t\t\tthis.runner.waitingDown(t);\n\t\t},\n\n\t\tremovePursuit(t){\n\t\t\tthis.pursuits.remove(t);\n\t\t},\n\n\t\t/**\n\t\t * Increase priority.\n\t\t */\n\t\tincPursuits(t){\n\t\t\tthis.runner.pursuitUp(t);\n\t\t},\n\n\t\t/**\n\t\t * Decrease priority.\n\t\t */\n\t\tdecPursuits(t){\n\t\t\tthis.runner.pursuitDown(t);\n\t\t}\n\n\t}\n\n}\n</script>\n\n<template>\n<div class=\"popup activities\">\n\n\t<div class=\"popup-close\" @click=\"$emit('close')\">X</div>\n\n\t<div class=\"section\" :key=\"'k'+activeKey\">\n\t\t<header>Activities</header>\n\t\t<div v-if=\"activesLen===0\" class=\"note-text\">None</div>\n\t\t<div v-else>\n\t\t<div v-for=\"(t,ind) in actives.values().reverse()\" :key=\"'a'+ind\" class=\"task-info\">\n\t\t\t<button class=\"stop\" @click=\"removeActive(t)\">X</button><span class=\"task-name\">{{ t.name.toTitleCase() }}</span>\n\t\t\t<!-- note: indices are reversed -->\n\t\t\t<button @click=\"incActive(t)\" :disabled=\"ind===0\">+</button>\n\t\t\t<button @click=\"decActive(t)\" :disabled=\"(ind+1)===activesLen\">-</button>\n\n\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\"section\" :key=\"'w'+waitKey\">\n\t\t<header>Waiting/Blocked</header>\n\t\t<div v-if=\"waiting.length===0\" class=\"note-text\">None</div>\n\t\t<div v-else>\n\t\t<div v-for=\"(t,ind) in waiting\" :key=\"'w'+ind\" class=\"task-info\">\n\t\t\t<button class=\"stop\" @click=\"removeWait(t)\">X</button><span class=\"task-name\">{{ t.name.toTitleCase() }}</span>\n\t\t\t<button @click=\"incWaiting(t)\" :disabled=\"ind===0\">+</button>\n\t\t\t<button @click=\"decWaiting(t)\" :disabled=\"(ind+1)===waiting.length\">-</button>\n\n\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\"section\">\n\t\t<header>Pursuits</header>\n\t\t<div v-if=\"pursuits.count===0\" class=\"note-text\">None</div>\n\t\t<div v-else>\n\t\t<div v-for=\"(t) in pursuits.items\" :key=\"t.id\" class=\"task-info\">\n\n\t\t\t<button class=\"stop\" @click=\"removePursuit(t)\">X</button><span class=\"task-name\">{{ t.name.toTitleCase() }}</span>\n\t\t\t<!--<button v-if=\"runner.canPursuit(t)\" :class=\"['pursuit', pursuits.includes( runner.baseTask(t) ) ? 'current' : '']\"\n\t\t\t\t\t@click=\"runner.togglePursuit(t)\"> F </button>-->\n\t\t</div>\n\t\t</div>\n\t</div>\n\n</div>\n</template>\n\n<style scoped>\n\ndiv.activities {\n\tmin-width: 28rem;\n\twidth: fit-content;\n\tpadding-top:1em;\n\tpadding: 1.5em;\n}\n\ndiv.section {\n\tmargin-top: 1em;\n\tmin-width: 100%;\n}\n\ndiv.task-info {\n\tdisplay:flex;\n\twidth: 90%;\n\tmargin: var(--sm-gap) 0;\n}\n\nbutton.stop {\n\tmargin: 0 var(--sm-gap);\n}\n\nspan.task-name {\n\tflex-grow:1;\n\tvertical-align: center;\n}\n\ndiv.section header {\n\tborder-bottom: 1px solid var(--separator-color);\n\tmargin-bottom: var(--sm-gap);\n}\n\n</style>","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./activities.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./activities.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./activities.vue?vue&type=style&index=0&id=cacde55a&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./activities.vue?vue&type=style&index=0&id=cacde55a&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./activities.vue?vue&type=template&id=cacde55a&scoped=true&\"\nimport script from \"./activities.vue?vue&type=script&lang=js&\"\nexport * from \"./activities.vue?vue&type=script&lang=js&\"\nimport style0 from \"./activities.vue?vue&type=style&index=0&id=cacde55a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cacde55a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/arcanum/arcanum/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('cacde55a')) {\n      api.createRecord('cacde55a', component.options)\n    } else {\n      api.reload('cacde55a', component.options)\n    }\n    module.hot.accept(\"./activities.vue?vue&type=template&id=cacde55a&scoped=true&\", function () {\n      api.rerender('cacde55a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/ui/popups/activities.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.choices != null && _vm.choices.length > 0\n    ? _c(\"div\", { staticClass: \"popup\" }, [\n        _c(\"div\", { staticClass: \"content\" }, [\n          _vm.title\n            ? _c(\"span\", { staticClass: \"title\" }, [_vm._v(_vm._s(_vm.title))])\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"items\" },\n            _vm._l(_vm.choices, function(it) {\n              return _c(\n                \"button\",\n                {\n                  key: _vm.strings ? it : it.id,\n                  staticClass: \"task-btn\",\n                  class: _vm.disabled(it) && \"disabled\",\n                  on: {\n                    \"!mouseenter\": function($event) {\n                      $event.stopPropagation()\n                      !_vm.strings ? _vm.itemOver($event, it) : \"\"\n                    },\n                    click: function($event) {\n                      return _vm.choose(it)\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(_vm.strings ? it : it.name))]\n              )\n            }),\n            0\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"button\",\n            { staticClass: \"close-btn\", on: { click: _vm.cancel } },\n            [_vm._v(\"Cancel\")]\n          )\n        ])\n      ])\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport Game from '../../game';\nimport { centerX, positionAt } from './popups.js';\n\nimport ItemsBase from '../itemsBase.js';\nimport GData from '../../items/gdata';\n\n/**\n * @note The Choice Mechanism is highly convoluted right now, due to Vue interactions\n * and poor structure on my part. slotpick button emits an event to open the choice popup.\n * It might be better to place choice as a component of slotpick?\n * @emits choice\n */\nexport default {\n\n\tdata() {\n\t\treturn {\n\t\t\ttitle:null,\n\t\t\tlist:null,\n\t\t\telm:null,\n\t\t\titem:null,\n\t\t\topen:false,\n\t\t\tmustPay:false,\n\t\t\tstrings:false\n\t\t}\n\t},\n\tmixins:[ItemsBase],\n\tcreated(){\n\n\t\tthis.cb = null;\n\n\t\tthis.plisten = ()=>{\n\n\t\t\t/**\n\t\t\t * Special event to show choice dialog.\n\t\t\t*/\n\t\t\tthis.add( 'choice', this.show, this );\n\n\t\t};\n\n\t\tthis.listen('game-loaded', this.plisten );\n\n\t},\n\tbeforeDestroy(){\n\t\tthis.removeListener( 'game-loaded', this.plisten );\n\t\tthis.plisten = null;\n\t\tthis.cancel();\n\t},\n\tupdated() {\n\n\t\tif (this.open===false) return;\n\n\t\tif ( this.elm) positionAt( this.$el, this.elm, 0 );\n\t\telse centerX( this.$el );\n\n\t},\n\tcomputed:{\n\n\t\t/**\n\t\t * @property {gdata[]} choices - used to convert strings or tag string into choice objects.\n\t\t */\n\t\tchoices:{\n\n\t\t\tget(){ return this.list; },\n\t\t\tset(v){\n\n\t\t\t\tif ( typeof v === 'string') v = Game.state.getData( v );\n\n\t\t\t\tif ( v && v.items ) v = v.items;\n\t\t\t\tif ( Array.isArray(v ) ) {\n\n\t\t\t\t\tif ( this.strings ) this.list = v;\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar a = [];\n\t\t\t\t\t\tfor( let i = v.length-1; i>= 0; i-- ) {\n\n\t\t\t\t\t\t\tvar it = Game.state.findData( v[i] );\n\t\t\t\t\t\t\tif ( it ) a.push(it);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.list = a;\n\t\t\t\t\t}\n\n\t\t\t\t} else this.list = null;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\tmethods:{\n\n\t\t/**\n\t\t * @param {object} opts - dispaly options\n\t\t * @param {?HTMLElement} opts.elm - element to display relative to.\n\t\t * @param {?function} opts.cb - callback\n\t\t * @param {?string} opts.title - choice title.\n\t\t * @param {?boolean} opts.mustPay - must pay to select.\n\t\t * @param {?boolean} opts.strings - choices given as raw strings.\n\t\t */\n\t\tshow( choices, opts ) {\n\n\t\t\t//console.log('showing choices');\n\t\t\tthis.title = opts.title;\n\t\t\tthis.cb = opts.cb;\n\t\t\tthis.elm = opts.elm;\n\t\t\tthis.strings = opts.strings;\n\t\t\tthis.mustPay = opts.mustPay;\n\n\t\t\tthis.choices = choices;\n\t\t\tthis.open=true;\n\n\t\t},\n\n\t\tcantPay(it) {\n\t\t\treturn it.cost&&!Game.canPay(it.cost);\n\t\t},\n\n    disabled(it) {\n      return !this.strings&&!this.slottable(it)||(this.mustPay&&this.cantPay(it));\n    },\n\n\t\tchoose( opt ){\n      if(this.disabled(opt)) return;\n\n\t\t\tthis.open = false;\n\t\t\tthis.item = null;\n\t\t\tthis.choices = null;\n\t\t\tthis.elm = null;\n\n\t\t\tif ( this.cb ) {\n\n\t\t\t\tlet cb = this.cb;\n\t\t\t\tthis.cb = null;\n\t\t\t\tcb( opt );\n\n\t\t\t}\n\n\t\t},\n\t\tcancel(){\n\t\t\tthis.open=false;\n\t\t\tthis.cb = null;\n\t\t\tthis.item = null;\n\t\t\tthis.choices = null;\n\t\t\tthis.elm = null;\n\t\t}\n\n\t}\n\n}\n</script>\n\n<template>\n<div class=\"popup\" v-if=\"choices!=null&&choices.length>0\">\n\t<div class=\"content\">\n\n\t\t<span class=\"title\" v-if=\"title\">{{title}}</span>\n\n\t\t<div class=\"items\">\n      <!--\t\t\t:disabled=\"!strings&&!slottable(it)||(mustPay&&cantPay(it))\"-->\n\t\t<button class=\"task-btn\"\n      :class=\"disabled(it) && 'disabled'\"\n\t\t\tv-for=\"it in choices\" :key=\"strings?it:it.id\"\n\t\t\t@mouseenter.capture.stop=\"!strings ? itemOver( $event,it):''\"\n\t\t\t@click=\"choose( it )\">{{ strings ? it : it.name }}</button>\n\t\t</div>\n\n\t\t<button class=\"close-btn\" @click=\"cancel\">Cancel</button>\n\n\t</div>\n</div>\n\n</template>\n\n<style scoped>\n\n.disabled {\n  border-color: rgba(0,0,0,0.4);\n  color: rgba(0,0,0,0.4);\n}\n\n.popup {\n\tz-index: var(--md-depth);\n\tmax-width: 50vw;\n}\n.content {\n\tdisplay:flex;\n\tflex-flow: column nowrap;\n\twidth: 100%;\n\tmin-height:5rem;\n}\n\n.content .items {\n\tdisplay:flex;\n\tflex-flow: row wrap;\n\tflex-grow: 1;\n\twidth:auto;\n}\n\n.content .title {\n\tfont-weight: bold;\n\ttext-align: center;\n\tmargin-bottom: var(--sm-gap);\n}\n\n.task-btn {\n\n\tmax-height: 2em;\n\twidth:100%;\n}\n\nbutton.close-btn {\n\tmin-height: 2em;\n\twidth: 5em;\n\tfont-size:0.9em;\n}\n\n\n</style>","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./choice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./choice.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./choice.vue?vue&type=style&index=0&id=980be7f2&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./choice.vue?vue&type=style&index=0&id=980be7f2&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./choice.vue?vue&type=template&id=980be7f2&scoped=true&\"\nimport script from \"./choice.vue?vue&type=script&lang=js&\"\nexport * from \"./choice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./choice.vue?vue&type=style&index=0&id=980be7f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"980be7f2\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/arcanum/arcanum/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('980be7f2')) {\n      api.createRecord('980be7f2', component.options)\n    } else {\n      api.reload('980be7f2', component.options)\n    }\n    module.hot.accept(\"./choice.vue?vue&type=template&id=980be7f2&scoped=true&\", function () {\n      api.rerender('980be7f2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/ui/popups/choice.vue\"\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","$event","$emit","_v","key","activeKey","activesLen","_l","actives","values","reverse","t","ind","removeActive","_s","name","toTitleCase","attrs","disabled","incActive","decActive","waitKey","waiting","length","removeWait","incWaiting","decWaiting","pursuits","count","items","removePursuit","_withStripped","mixins","data","mounted","elm","$el","computed","runner","size","methods","inc","dec","stopTask","waitingUp","waitingDown","remove","incPursuits","pursuitUp","decPursuits","pursuitDown","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","component","__file","choices","title","_e","it","strings","class","stopPropagation","itemOver","choose","cancel","list","item","open","mustPay","created","cb","plisten","add","show","listen","beforeDestroy","removeListener","updated","get","set","v","Array","isArray","a","i","opts","cantPay","cost","slottable","opt"],"sourceRoot":""}