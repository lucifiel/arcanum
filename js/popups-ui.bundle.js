"use strict";(self.webpackChunk_name_=self.webpackChunk_name_||[]).push([[811],{3093:(t,i,n)=>{n.d(i,{Z:()=>a});var e=n(3645),s=n.n(e)()((function(t){return t[1]}));s.push([t.id,"\ndiv.activities[data-v-cacde55a] {\n\tmin-width: 28rem;\n\twidth: fit-content;\n\tpadding-top:1em;\n\tpadding: 1.5em;\n}\ndiv.section[data-v-cacde55a] {\n\tmargin-top: 1em;\n\tmin-width: 100%;\n}\ndiv.task-info[data-v-cacde55a] {\n\tdisplay:flex;\n\twidth: 90%;\n\tmargin: var(--sm-gap) 0;\n}\nbutton.stop[data-v-cacde55a] {\n\tmargin: 0 var(--sm-gap);\n}\nspan.task-name[data-v-cacde55a] {\n\tflex-grow:1;\n\tvertical-align: center;\n}\ndiv.section header[data-v-cacde55a] {\n\tborder-bottom: 1px solid var(--separator-color);\n\tmargin-bottom: var(--sm-gap);\n}\n\n",""]);const a=s},7350:(t,i,n)=>{n.d(i,{Z:()=>a});var e=n(3645),s=n.n(e)()((function(t){return t[1]}));s.push([t.id,"\n.disabled[data-v-980be7f2] {\n  border-color: rgba(0,0,0,0.4);\n  color: rgba(0,0,0,0.4);\n}\n.popup[data-v-980be7f2] {\n\tz-index: var(--md-depth);\n\tmax-width: 50vw;\n}\n.content[data-v-980be7f2] {\n\tdisplay:flex;\n\tflex-flow: column nowrap;\n\twidth: 100%;\n\tmin-height:5rem;\n}\n.content .items[data-v-980be7f2] {\n\tdisplay:flex;\n\tflex-flow: row wrap;\n\tflex-grow: 1;\n\twidth:auto;\n}\n.content .title[data-v-980be7f2] {\n\tfont-weight: bold;\n\ttext-align: center;\n\tmargin-bottom: var(--sm-gap);\n}\n.task-btn[data-v-980be7f2] {\n\n\tmax-height: 2em;\n\twidth:100%;\n}\nbutton.close-btn[data-v-980be7f2] {\n\tmin-height: 2em;\n\twidth: 5em;\n\tfont-size:0.9em;\n}\n\n\n",""]);const a=s},1861:(t,i,n)=>{n.r(i),n.d(i,{default:()=>y});var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"popup activities"},[n("div",{staticClass:"popup-close",on:{click:function(i){return t.$emit("close")}}},[t._v("X")]),t._v(" "),n("div",{key:"k"+t.activeKey,staticClass:"section"},[n("header",[t._v("Activities")]),t._v(" "),0===t.activesLen?n("div",{staticClass:"note-text"},[t._v("None")]):n("div",t._l(t.actives.values().reverse(),(function(i,e){return n("div",{key:"a"+e,staticClass:"task-info"},[n("button",{staticClass:"stop",on:{click:function(n){return t.removeActive(i)}}},[t._v("X")]),n("span",{staticClass:"task-name"},[t._v(t._s(i.name.toTitleCase()))]),t._v(" "),n("button",{attrs:{disabled:0===e},on:{click:function(n){return t.incActive(i)}}},[t._v("+")]),t._v(" "),n("button",{attrs:{disabled:e+1===t.activesLen},on:{click:function(n){return t.decActive(i)}}},[t._v("-")])])})),0)]),t._v(" "),n("div",{key:"w"+t.waitKey,staticClass:"section"},[n("header",[t._v("Waiting/Blocked")]),t._v(" "),0===t.waiting.length?n("div",{staticClass:"note-text"},[t._v("None")]):n("div",t._l(t.waiting,(function(i,e){return n("div",{key:"w"+e,staticClass:"task-info"},[n("button",{staticClass:"stop",on:{click:function(n){return t.removeWait(i)}}},[t._v("X")]),n("span",{staticClass:"task-name"},[t._v(t._s(i.name.toTitleCase()))]),t._v(" "),n("button",{attrs:{disabled:0===e},on:{click:function(n){return t.incWaiting(i)}}},[t._v("+")]),t._v(" "),n("button",{attrs:{disabled:e+1===t.waiting.length},on:{click:function(n){return t.decWaiting(i)}}},[t._v("-")])])})),0)]),t._v(" "),n("div",{staticClass:"section"},[n("header",[t._v("Pursuits")]),t._v(" "),0===t.pursuits.count?n("div",{staticClass:"note-text"},[t._v("None")]):n("div",t._l(t.pursuits.items,(function(i){return n("div",{key:i.id,staticClass:"task-info"},[n("button",{staticClass:"stop",on:{click:function(n){return t.removePursuit(i)}}},[t._v("X")]),n("span",{staticClass:"task-name"},[t._v(t._s(i.name.toTitleCase()))])])})),0)])])};e._withStripped=!0;var s=n(7112),a=n(1825);const c={mixins:[],data:()=>({activeKey:0,waitKey:0}),mounted(){this.elm?(0,a.M)(this.$el,this.elm,0):(0,a.HF)(this.$el,.2)},computed:{runner:()=>s.ZP.runner,actives(){return this.runner.actives},activesLen(){return this.actives.size},waiting(){return this.runner.waiting.reverse()},pursuits(){return this.runner.pursuits}},methods:{incActive(t){this.actives.inc(t),this.activeKey++},decActive(t){this.actives.dec(t),this.activeKey++},removeActive(t){this.runner.stopTask(t)},removeWait(t){this.runner.removeWait(t)},incWaiting(t){this.runner.waitingUp(t)},decWaiting(t){this.runner.waitingDown(t)},removePursuit(t){this.pursuits.remove(t)},incPursuits(t){this.runner.pursuitUp(t)},decPursuits(t){this.runner.pursuitDown(t)}}};var l=n(3379),r=n.n(l),o=n(7795),u=n.n(o),d=n(569),v=n.n(d),h=n(3565),m=n.n(h),p=n(9216),f=n.n(p),_=n(4589),b=n.n(_),g=n(3093),w={};w.styleTagTransform=b(),w.setAttributes=m(),w.insert=v().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=f(),r()(g.Z,w),g.Z&&g.Z.locals&&g.Z.locals;var k=(0,n(1900).Z)(c,e,[],!1,null,"cacde55a",null);k.options.__file="src/ui/popups/activities.vue";const y=k.exports},5181:(t,i,n)=>{n.r(i),n.d(i,{default:()=>C});var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return null!=t.choices&&t.choices.length>0?n("div",{staticClass:"popup"},[n("div",{staticClass:"content"},[t.title?n("span",{staticClass:"title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{staticClass:"items"},t._l(t.choices,(function(i){return n("button",{key:t.strings?i:i.id,staticClass:"task-btn",class:t.disabled(i)&&"disabled",on:{"!mouseenter":function(n){n.stopPropagation(),!t.strings&&t.itemOver(n,i)},click:function(n){return t.choose(i)}}},[t._v(t._s(t.strings?i:i.name))])})),0),t._v(" "),n("button",{staticClass:"close-btn",on:{click:t.cancel}},[t._v("Cancel")])])]):t._e()};e._withStripped=!0;var s=n(7112),a=n(1825),c=n(9736);n(4028);const l={data:()=>({title:null,list:null,elm:null,item:null,open:!1,mustPay:!1,strings:!1}),mixins:[c.Z],created(){this.cb=null,this.plisten=()=>{this.add("choice",this.show,this)},this.listen("game-loaded",this.plisten)},beforeDestroy(){this.removeListener("game-loaded",this.plisten),this.plisten=null,this.cancel()},updated(){!1!==this.open&&(this.elm?(0,a.M)(this.$el,this.elm,0):(0,a.iL)(this.$el))},computed:{choices:{get(){return this.list},set(t){if("string"==typeof t&&(t=s.ZP.state.getData(t)),t&&t.items&&(t=t.items),Array.isArray(t))if(this.strings)this.list=t;else{var i=[];for(let e=t.length-1;e>=0;e--){var n=s.ZP.state.findData(t[e]);n&&i.push(n)}this.list=i}else this.list=null}}},methods:{show(t,i){this.title=i.title,this.cb=i.cb,this.elm=i.elm,this.strings=i.strings,this.mustPay=i.mustPay,this.choices=t,this.open=!0},cantPay:t=>t.cost&&!s.ZP.canPay(t.cost),disabled(t){return!this.strings&&!this.slottable(t)||this.mustPay&&this.cantPay(t)},choose(t){if(!this.disabled(t)&&(this.open=!1,this.item=null,this.choices=null,this.elm=null,this.cb)){let i=this.cb;this.cb=null,i(t)}},cancel(){this.open=!1,this.cb=null,this.item=null,this.choices=null,this.elm=null}}};var r=n(3379),o=n.n(r),u=n(7795),d=n.n(u),v=n(569),h=n.n(v),m=n(3565),p=n.n(m),f=n(9216),_=n.n(f),b=n(4589),g=n.n(b),w=n(7350),k={};k.styleTagTransform=g(),k.setAttributes=p(),k.insert=h().bind(null,"head"),k.domAPI=d(),k.insertStyleElement=_(),o()(w.Z,k),w.Z&&w.Z.locals&&w.Z.locals;var y=(0,n(1900).Z)(l,e,[],!1,null,"980be7f2",null);y.options.__file="src/ui/popups/choice.vue";const C=y.exports}}]);