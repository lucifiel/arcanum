"use strict";(self.webpackChunk_name_=self.webpackChunk_name_||[]).push([[123],{1363:(t,e,s)=>{s.d(e,{Z:()=>n});var a=s(3645),l=s.n(a)()((function(t){return t[1]}));l.push([t.id,"\ndiv.spellcraft[data-v-622e812c] {\n\tdisplay:flex;\n\tflex-direction: column;\n}\ndiv.spellcraft .userspells[data-v-622e812c] {\n\tdisplay:flex;\n\tflex-direction: column;\n\tpadding: var(--md-gap);\n\tborder-bottom: 1pt solid var( --separator-color );\n}\ndiv.userspells .spells[data-v-622e812c] {\n\tdisplay:flex;\n\tflex-flow: row wrap;\n}\ndiv.spells .custom[data-v-622e812c] {\n\tmargin-right:1.2rem;\n}\n.crafting .options[data-v-622e812c] {\n\tpadding-bottom: var(--tiny-gap);\n}\ndiv.spellcraft .bottom[data-v-622e812c] {\n\tdisplay:flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding-top:var(--md-gap);\n\tpadding-left:var(--md-gap);\n}\ndiv.spellcraft .crafting[data-v-622e812c], div.spellcraft .allspells[data-v-622e812c] {\n\tdisplay:flex;\n\tflex-direction: column;\n}\n\n",""]);const n=l},4943:(t,e,s)=>{s.r(e),s.d(e,{default:()=>k});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spellcraft"},[s("div",{staticClass:"userspells"},[s("div",[t._v("\n\t\tCustom Spells: "+t._s(Math.floor(t.userSpells.used)+" / "+Math.floor(t.userSpells.max.value))+"\n\t")]),t._v(" "),s("div",{staticClass:"spells"},t._l(t.userSpells.items,(function(e){return s("div",{key:e.id,staticClass:"custom",on:{"!mouseenter":function(s){return s.stopPropagation(),t.itemOver(s,e)}}},[s("span",{staticClass:"text-entry"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"c.name"}],staticClass:"fld-name",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}})]),t._v(" "),s("button",{staticClass:"stop",on:{click:function(s){return t.removeSpell(e)}}},[t._v("X")])])})),0)]),t._v(" "),s("div",{staticClass:"bottom"},[s("div",{staticClass:"crafting"},[s("div",{staticClass:"options"},[t.craft.level>=t.maxLevels?s("span",{staticClass:"warn-text"},[t._v("You are at your power limit.")]):t._e(),t._v(" "),s("div",{staticClass:"text-entry"},[s("label",{attrs:{for:t.elmId("spName")}},[t._v("Spell")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.craft.name,expression:"craft.name"}],staticClass:"fld-name",attrs:{id:t.elmId("spName"),type:"text"},domProps:{value:t.craft.name},on:{input:function(e){e.target.composing||t.$set(t.craft,"name",e.target.value)}}})]),t._v(" "),s("span",{on:{"!mouseenter":function(e){return e.stopPropagation(),t.itemOver(e,t.craft)}}},[s("span",[t._v("Power: "+t._s(t.craft.level+" / "+Math.floor(t.maxLevels)))]),t._v(" "),s("button",{attrs:{disabled:!t.canCraft},on:{click:t.create}},[t._v("Craft")])])]),t._v(" "),t._l(t.list,(function(e,a){return s("div",{key:a,staticClass:"separate",on:{"!mouseenter":function(s){return s.stopPropagation(),t.itemOver(s,e)}}},[s("span",[t._v(t._s(e.name.toTitleCase()))]),s("button",{staticClass:"remove",on:{click:function(e){return t.removeAt(a)}}},[t._v("X")])])}))],2),t._v(" "),s("div",{staticClass:"allspells"},t._l(t.spells,(function(e){return s("div",{key:e.id,staticClass:"separate",on:{"!mouseenter":function(s){return s.stopPropagation(),t.itemOver(s,e)}}},[s("span",[t._v(t._s(e.name.toTitleCase()))]),s("button",{staticClass:"add",attrs:{disabled:!t.canAdd(e)},on:{click:function(s){return t.add(e)}}},[t._v("+")])])})),0)])])};a._withStripped=!0;var l=s(9736),n=s(7826),r=s(7112),i=s(6802);const o={mixins:[l.Z],data:()=>({userSpells:r.ZP.state.userSpells,list:[],craft:{name:"Crafted Spell",level:0,buy:null}}),methods:{removeSpell(t){this.userSpells.remove(t)},canAdd(t){return t.level+this.craft.level<=this.maxLevels},create(){this.list&&0!==this.list.length&&(r.ZP.payCost(this.craft.buy),this.userSpells.create(this.list,r.ZP.state,this.craft.name),this.list=[],this.craft.level=0,this.craft.buy=null)},add(t){this.list.push(t),this.craft.level+=t.level,this.craft.buy=(0,n.e3)(this.list)},removeAt(t){let e=this.list[t];e&&(this.craft.level-=e.level),this.list.splice(t,1),this.craft.buy=(0,n.e3)(this.list)}},computed:{canCraft(){return!this.userSpells.full()&&this.list.length>0&&r.ZP.canPay(this.craft.buy)},spells(){return r.ZP.state.filterItems((t=>"spell"===t.type&&!this.locked(t)&&t.owned&&"bloodshot"!=t.id)).sort(i.dy)},scraft:()=>r.ZP.state.getData("scraft"),maxLevels(){return Math.floor(this.scraft.valueOf())}}};var c=s(3379),d=s.n(c),u=s(7795),v=s.n(u),p=s(569),f=s.n(p),m=s(3565),h=s.n(m),g=s(9216),_=s.n(g),y=s(4589),C=s.n(y),b=s(1363),x={};x.styleTagTransform=C(),x.setAttributes=h(),x.insert=f().bind(null,"head"),x.domAPI=v(),x.insertStyleElement=_(),d()(b.Z,x),b.Z&&b.Z.locals&&b.Z.locals;var P=(0,s(1900).Z)(o,a,[],!1,null,"622e812c",null);P.options.__file="src/ui/sections/scraft.vue";const k=P.exports},7826:(t,e,s)=>{s.d(e,{fr:()=>r,e3:()=>o});var a=s(7112),l=s(2572);const n=(t,e,s)=>{if(!a.ZP.state.exists(e))return;let l=t[e];t[e]=l?l+s:s},r=t=>{let e=t.level,s={gold:100*Math.ceil(Math.pow(e,1.7))};return t.kind&&i(t.kind,s,e),t.biome&&i(t.biome,s,e),t.regen&&n(s,"bloodgem",5*(0,l.kR)(e)),s},i=(t,e={},s=1)=>{if(t){t=(0,l.Ku)(t);let a=(0,l.AQ)(t,s);n(e,a,s-(0,l.Lm)(s)+1)}else if(Array.isArray(t))for(let a=t.length-1;a>=0;a--)t[a]&&i(t[a],e,s);return e},o=t=>{var e={};for(let a=t.length-1;a>=0;a--){var s=t[a];e.gold=(e.gold||0)+300*s.level,c(s.school,s.level,e)}return e},c=(t,e=1,s={})=>{if(Array.isArray(t))for(let a=t.length-1;a>=0;a--)c(t[a],e,s);else null!=t&&(n(s,t+"gem",Math.min(e,5)*e),e<=5?n(s,"codices",e):n(s,"tomes",e=5));return s}}}]);